<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.7.6.1"/>
<title>Imperial Analysis: docs/Objects.md Source File</title>

<link href="$relpath^tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="$relpath^jquery.js"></script>
<script type="text/javascript" src="$relpath^dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>

<link href="$relpath^doxygen.css" rel="stylesheet" type="text/css" />
$extrastylesheet
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 70px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Imperial Analysis
   
   </div>
   
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- end header part -->
<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_objects_8md.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">docs/Objects.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_objects_8md.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 Physics Objects {#physics-objects}
<a name="l00002"></a>00002 ==================================
<a name="l00003"></a>00003 
<a name="l00004"></a>00004 [TOC]
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 This page documents:
<a name="l00007"></a>00007 
<a name="l00008"></a>00008   - The physics <span class="keywordtype">object</span> <a class="code" href="_main_8md.html#a4d8eecea6fd2fa3829e70cfeb90d107b">classes</a> available in the <a class="code" href="_main_8md.html#a4656b1b3cd771a98aff167eb21165897">framework</a>
<a name="l00009"></a>00009   - The CMSSW modules used to produce them
<a name="l00010"></a>00010   - Example python <a class="code" href="_objects_8md.html#a905392dc00c7a11b588680780ed1efa3">configuration</a> <span class="keywordflow">for each</span> module
<a name="l00011"></a>00011   - The <span class="keywordtype">object</span> properties that are not filled by <span class="keywordflow">default</span> in each module
<a name="l00012"></a>00012   - Recipes <span class="keywordflow">for</span> non-standard objects and reconstruction
<a name="l00013"></a>00013 
<a name="l00014"></a><a class="code" href="_objects_8md.html#a622e5bb6112a031845933b046fe2d03b">00014</a> Use the contents panel on the right to navigate between objects. Each section <a class="code" href="_main_8md.html#a0206588fdea9be6f57d4c722d3543ccc">provides</a> links to the documentation <span class="keywordflow">for</span> the <span class="keywordtype">object</span> <span class="keyword">class </span>in question as well as the <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> module. To check the list of properties an object <a class="code" href="_objects_8md.html#a39b029fdef676eda4282818e81df392d">class</a> <a class="code" href="_main_8md.html#a0206588fdea9be6f57d4c722d3543ccc">provides</a>, follow the link to the object page. From this page the documentation for each `set_[<a class="code" href="_objects_8md.html#afcc67eec7aafbc2bc0419abcde2c5e70">property</a>]` method will contain a link to the source code of the <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> module where this method is called.
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 An <a class="code" href="_objects_8md.html#a59a691306f9cc62e23cca13fb31aa10a">example</a> python <a class="code" href="_objects_8md.html#a905392dc00c7a11b588680780ed1efa3">configuration</a> for each <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> module is also given below. All these snippets are extracted from the <a class="code" href="_objects_8md.html#a10e3df26bd38f398bd2ac82ca2c5fe05">file</a>: `python/default_producers_cfi.py`.
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 The basic <a class="code" href="_objects_8md.html#a905392dc00c7a11b588680780ed1efa3">configuration</a> for each module is usually the same: the `input` option takes an `edm::InputTag` to the input object <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a>, and the `branch` option takes a string that will label the branch in the output TTree. Other options typically control the addition of extra object properties that are not filled by default in the module. Reasons for this can <a class="code" href="_objects_8md.html#a622e5bb6112a031845933b046fe2d03b">vary</a>, but are typically due to one of the <a class="code" href="_objects_8md.html#adc1a58a870f6e0330cb295960741ce08">following</a>:
<a name="l00019"></a>00019 
<a name="l00020"></a>00020   - **The interface to access the <a class="code" href="_objects_8md.html#afcc67eec7aafbc2bc0419abcde2c5e70">property</a> changes between CMSSW <a class="code" href="_objects_8md.html#a0f9b0b4d3921744c6054e9dfd412256c">releases</a>, or is not present at all in some subset of <a class="code" href="_objects_8md.html#a0f9b0b4d3921744c6054e9dfd412256c">releases</a>** \n The code to access this <a class="code" href="_objects_8md.html#afcc67eec7aafbc2bc0419abcde2c5e70">property</a> can&#39;t be included in the <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a>, as it would fail to compile in some <a class="code" href="_objects_8md.html#a0f9b0b4d3921744c6054e9dfd412256c">releases</a>. The solution is often a separate <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> for just this <a class="code" href="_objects_8md.html#afcc67eec7aafbc2bc0419abcde2c5e70">property</a>, stored in an independent git repository that can be checked-out as a separate CMSSW <a class="code" href="_main_8md.html#a84431b9b00f97f868d0190436f6b2694">package</a>. This repository can then have separate branches for different versions of CMSSW. This separate <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> will typically add an `edm::ValueMap&lt;T&gt;` to the <a class="code" href="_objects_8md.html#af07fd46a22fce46b8e6ea4f40de9b27a">event</a>, where `T` is the type of the <a class="code" href="_objects_8md.html#afcc67eec7aafbc2bc0419abcde2c5e70">property</a> in question. An option is then provided in the <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> to read load this `ValueMap` and extract the values. There are several examples of this workaround below. These separate producers follow a module naming convention of `IC[Object][Property]<a class="code" href="_objects_8md.html#a0685ef9c760422e2d2ad65d41aea17f9">Calcuator</a>`, a CMSSW <a class="code" href="_main_8md.html#a84431b9b00f97f868d0190436f6b2694">package</a> convention of `ICAnalysis/[Property]Calculator` and git repository convention of `ICAnalysis-[Property]Calculator`.
<a name="l00021"></a>00021   - **A new method to calculate some <a class="code" href="_objects_8md.html#afcc67eec7aafbc2bc0419abcde2c5e70">property</a> is introduced in a later CMSSW <a class="code" href="_objects_8md.html#ad989061fc01a5ac002681332d436fb49">release</a>, but the possibility to use the old method should be maintained.** \n If both the new and the old method are supported in all CMSSW versions then one possibility is to just add an option to the main <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> to switch between methods. <a class="code" href="_objects_8md.html#a5038a7e2694a875f45eff1ca072a7d5c">Or</a>, if the new method is only available in later <a class="code" href="_objects_8md.html#a0f9b0b4d3921744c6054e9dfd412256c">releases</a>, a better way is to <a class="code" href="_git_and_c_m_s_s_w_8md.html#ad6c1203be1dc67a157fcaa164034c311">create</a> a separate <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> in a new <a class="code" href="_main_8md.html#a84431b9b00f97f868d0190436f6b2694">package</a> as in the previous <a class="code" href="_objects_8md.html#a59a691306f9cc62e23cca13fb31aa10a">example</a>. The old method should also be moved to a separate <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a>. However this may remain within this <a class="code" href="_main_8md.html#a84431b9b00f97f868d0190436f6b2694">package</a> as long as it still compiles in all the supported <a class="code" href="_objects_8md.html#a0f9b0b4d3921744c6054e9dfd412256c">releases</a>.
<a name="l00022"></a>00022   - **The <a class="code" href="_objects_8md.html#afcc67eec7aafbc2bc0419abcde2c5e70">property</a> requires several other inputs from the edm::Event** \n In this case to allow maximum flexibility the other inputs must also be specified in the module <a class="code" href="_objects_8md.html#a905392dc00c7a11b588680780ed1efa3">configuration</a>, and the calculation should remain optional to allow for the case where these inputs are not available in some dataset to be processed.
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 \note **Producer input collections**: The majority of the CMSSW <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> modules listed below use `edm::View` objects to access the input <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a>. This <a class="code" href="_main_8md.html#a0206588fdea9be6f57d4c722d3543ccc">provides</a> a certain amount of flexibility in the actual type of the input <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a>. An `edm::View&lt;T&gt;`, where `T` is some object <a class="code" href="_objects_8md.html#a39b029fdef676eda4282818e81df392d">class</a>, can access an `std::vector&lt;T&gt;`, an `edm::RefVector&lt;T&gt;`, or the corresponding collections for some other type `U` which derives from the type `T`.
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 \warning **Reading ValueMaps**: Because of the way references are stored in `edm::ValueMap` objects these should not be produced using and `edm::RefVector&lt;T&gt;` <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> as input, but rather the original `std::vector&lt;T&gt;` <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> of concrete objects. For <a class="code" href="_objects_8md.html#a59a691306f9cc62e23cca13fb31aa10a">example</a>, even if you intend to ntuple-ise a filtered `edm::RefVector&lt;GsfElectron&gt;` <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a>, you should still produce the ID and isolation `ValueMap` objects using the original `std::vector&lt;GsfElectron&gt;` <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a>.
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <a class="code" href="classic_1_1_candidate.html" title="Stores a four-momentum, charge and identifier, and is the base class for most other physics objects...">Candidate</a> {#objs-candidate}
<a name="l00029"></a>00029 ===========================
<a name="l00030"></a>00030  - **Definition**: <a class="code" href="classic_1_1_candidate.html" title="Stores a four-momentum, charge and identifier, and is the base class for most other physics objects...">ic::Candidate</a>
<a name="l00031"></a>00031  - **CMSSW Producer**: <a class="code" href="class_i_c_candidate_producer.html" title="See documentation [here](objs-candidate)">ICCandidateProducer</a>
<a name="l00032"></a>00032  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;reco::Candidate&gt;`
<a name="l00033"></a>00033  - **Producer Output**: `std::vector&lt;ic::Candidate&gt;`
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 **Example usage**
<a name="l00036"></a>00036 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_candidate.html" title="Stores a four-momentum, charge and identifier, and is the base class for most other physics objects...">Candidate</a>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <a class="code" href="classic_1_1_composite_candidate.html" title="A candidate built by adding the four-momenta of other candidates. Pointers to each consituent candida...">CompositeCandidate</a> {#objs-composite}
<a name="l00039"></a>00039 =========
<a name="l00040"></a>00040  - **Definition**: <a class="code" href="classic_1_1_composite_candidate.html" title="A candidate built by adding the four-momenta of other candidates. Pointers to each consituent candida...">ic::CompositeCandidate</a>
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 An <a class="code" href="classic_1_1_composite_candidate.html" title="A candidate built by adding the four-momenta of other candidates. Pointers to each consituent candida...">ic::CompositeCandidate</a> aggregates multiple <a class="code" href="classic_1_1_candidate.html" title="Stores a four-momentum, charge and identifier, and is the base class for most other physics objects...">ic::Candidate</a> (or derived) objects, summing the charge and four-momenta, <span class="keywordflow">while</span> maintaining <a class="code" href="_n_tuple_config_8md.html#ab98b8cf3a8519274b9d0b625076b266f">pointers</a> to the original input objects. Due to its <span class="keyword">transient</span> nature a CMSSW <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> is not provided.
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 Electron {#objs-electron}
<a name="l00045"></a>00045 =========================
<a name="l00046"></a>00046  - **Definition**: <a class="code" href="classic_1_1_electron.html" title="This class stores a subset of the reco::GsfElectron properties which are most commonly used in analys...">ic::Electron</a>
<a name="l00047"></a>00047  - **CMSSW Producer**: <a class="code" href="class_i_c_electron_producer.html" title="See documentation [here](objs-electron)">ICElectronProducer</a>
<a name="l00048"></a>00048  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;reco::GsfElectron&gt;`
<a name="l00049"></a>00049  - **Producer Output**: `std::vector&lt;ic::Electron&gt;`
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 The <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> takes as input any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> where the objects are, or derive from, `reco::GsfElectron` objects. This includes `pat::Electron` collections. There are several <a class="code" href="classic_1_1_electron.html" title="This class stores a subset of the reco::GsfElectron properties which are most commonly used in analys...">ic::Electron</a> properties which are not calculated by <span class="keywordflow">default</span> in the <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a>:
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 Properties    | Notes
<a name="l00054"></a>00054 :------------ | :---------- |
<a name="l00055"></a>00055 <a class="code" href="classic_1_1_electron.html#a4817225cb11055f3f8b65f240cc59248" title="The ratio of the energy in the 3x3 crystal array centred on the seed over the energy of the complete ...">ic::Electron::r9</a> | A `ValueMap` <span class="keywordflow">for</span> <span class="keyword">this</span> variable can be calculated by the external <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> [ICAnalysis-ElectronR9Calculator](https:<span class="comment">//github.com/ajgilbert/ICAnalysis-ElectronR9Calculator). The option `inputR9` should be set to this `ValueMap` and the `includeR9` option should be set to `True`.</span>
<a name="l00056"></a>00056 <a class="code" href="classic_1_1_electron.html#ae9d99f35a1e6c2600277036a70526077" title="Calorimeter tower isolation sum.">ic::Electron::hcal_sum</a> | The extra inputs required to calculate <span class="keyword">this</span> variable are not available in the AOD <span class="keywordflow">for</span> all CMSSW <a class="code" href="_objects_8md.html#ad989061fc01a5ac002681332d436fb49">release</a> series. The method by which the variable is calculated is also expected to change in the `CMSSW_7_X_Y` series. A `ValueMap` <span class="keywordflow">for</span> <span class="keyword">this</span> variable can be produced by the <a class="code" href="class_i_c_electron_hcal_depth_calculator.html" title="Produces an edm::ValueMap&lt;float&gt; for the electron HCAL energy depth sum.">ICElectronHcalDepthCalculator</a> module within <span class="keyword">this</span> <a class="code" href="_main_8md.html#a84431b9b00f97f868d0190436f6b2694">package</a>. The option `inputHcalSum` should be <span class="keyword">set</span> to <span class="keyword">this</span> `ValueMap` and the option `includeHcalSum` option <span class="keyword">set</span> to `<span class="keyword">true</span>`.
<a name="l00057"></a>00057 ic::Electron::has_matched_conversion | In anticipation of the method to calculate <span class="keyword">this</span> flag changing in future <a class="code" href="_objects_8md.html#a0f9b0b4d3921744c6054e9dfd412256c">releases</a> the calculation has moved to a separate <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a>, ICElectronConversionCalculator, within <span class="keyword">this</span> <a class="code" href="_main_8md.html#a84431b9b00f97f868d0190436f6b2694">package</a>. This calculates a `ValueMap` which should be specified by the option `inputConversionMatches` when the `includeConversionMatches` option is <span class="keyword">set</span> to `True`.
<a name="l00058"></a>00058 ic::Electron::dxy_vertex &lt;br&gt; <a class="code" href="classic_1_1_electron.html#af73f764e8e9c5dafb1e08deb21b1f0b7" title="Longitudinal impact parameter of the GSF track with the primary vertex.">ic::Electron::dz_vertex</a> | These must be calculated with respect to a user-specified reco::Vertex. The first vertex in the <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> specified by the `inputVertices` option will be used when `includeVertexIP` is <span class="keyword">set</span> to `True`.
<a name="l00059"></a>00059 ic::Electron::dxy_beamspot | This must be calculated with respect to a user-specified `reco::BeamSpot`. The beamspot <span class="keyword">set</span> by the `inputBeamspot` option will be used when the option `includeBeamspotIP` is <span class="keyword">set</span> to `True`.
<a name="l00060"></a>00060 ic::Electron::dr03_pfiso_charged_all &lt;br&gt; ic::Electron::dr03_pfiso_charged &lt;br&gt; ic::Electron::dr03_pfiso_neutral &lt;br&gt; ic::Electron::dr03_pfiso_gamma &lt;br&gt; ic::Electron::dr03_pfiso_pu &lt;br&gt; ic::Electron::dr04_pfiso_charged_all &lt;br&gt; ic::Electron::dr04_pfiso_charged &lt;br&gt; ic::Electron::dr04_pfiso_neutral &lt;br&gt; ic::Electron::dr04_pfiso_gamma &lt;br&gt; <a class="code" href="classic_1_1_electron.html#a61cd1905357d1fec3473c8a346f990ae" title="PF isolation, using charged pileup in a cone with .">ic::Electron::dr04_pfiso_pu</a> | These should be calculated on-the-fly in a CMSSW job. Individual analyses may modify the isolation definition, <span class="keywordflow">for</span> <a class="code" href="_objects_8md.html#a59a691306f9cc62e23cca13fb31aa10a">example</a> changing veto cones. See the section \ref obs-pf-iso below <span class="keywordflow">for</span> software recipes.  Two sets of isolation values may be stored, nominally <span class="keywordflow">for</span> isolation cones of sizes \f$\Delta R = 0.3\f$ and \f$\Delta R = 0.4\f$. These are enabled via the options `includePFIso03` and `includePFIso04` respectively. The `InputTag` <span class="keywordflow">for each</span> isolation sum `ValueMap` must be specified in the `pfIso03` and/or `pfIso04` PSets as relevant.
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 **Example usage**
<a name="l00063"></a>00063 \snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_electron.html" title="This class stores a subset of the reco::GsfElectron properties which are most commonly used in analys...">Electron</a>
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 <a class="code" href="classic_1_1_muon.html" title="This class stores a subset of the reco::Muon properties which are most commonly used in analysis...">Muon</a> {#objs-muon}
<a name="l00066"></a>00066 =================
<a name="l00067"></a>00067  - **Definition**: <a class="code" href="classic_1_1_muon.html" title="This class stores a subset of the reco::Muon properties which are most commonly used in analysis...">ic::Muon</a>
<a name="l00068"></a>00068  - **CMSSW Producer**: <a class="code" href="class_i_c_muon_producer.html" title="See documentation [here](objs-muon)">ICMuonProducer</a>
<a name="l00069"></a>00069  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;reco::Muon&gt;` or an `edm::View&lt;reco::PFCandidate&gt;`, but see below <span class="keywordflow">for</span> details
<a name="l00070"></a>00070  - **Producer Output**: `std::vector&lt;ic::Muon&gt;`
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 The <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> operates in one of two modes, controlled by the option `isPF`. When <span class="keyword">set</span> to `False`, the input <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> should contain `reco::Muon` (or derived) objects. This includes `pat::Muon` collections. When <span class="keyword">set</span> to `True`, the input should be a <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> of `reco::PFCandidate` objects that are identified as PF muons. There are several <a class="code" href="classic_1_1_muon.html" title="This class stores a subset of the reco::Muon properties which are most commonly used in analysis...">ic::Muon</a> properties which are not calculated by <span class="keywordflow">default</span> in the <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a>:
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 Properties    | Notes
<a name="l00075"></a>00075 :------------ | :---------- |
<a name="l00076"></a>00076 ic::Muon::dxy_vertex &lt;br&gt; <a class="code" href="classic_1_1_muon.html#a25531f3abc3327925180b24efa037dcc" title="Longitudinal impact parameter of the tracker track with primary vertex.">ic::Muon::dz_vertex</a> | These must be calculated with respect to a user-specified reco::Vertex. The first vertex in the <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> specified by the `inputVertices` option will be used when `includeVertexIP` is <span class="keyword">set</span> to `True`.
<a name="l00077"></a>00077 ic::Muon::dxy_beamspot | This must be calculated with respect to a user-specified `reco::BeamSpot`. The beamspot <span class="keyword">set</span> by the `inputBeamspot` option will be used when the option `includeBeamspotIP` is <span class="keyword">set</span> to `True`.
<a name="l00078"></a>00078 ic::Muon::dr03_pfiso_charged_all &lt;br&gt; ic::Muon::dr03_pfiso_charged &lt;br&gt; ic::Muon::dr03_pfiso_neutral &lt;br&gt; ic::Muon::dr03_pfiso_gamma &lt;br&gt; ic::Muon::dr03_pfiso_pu &lt;br&gt; ic::Muon::dr04_pfiso_charged_all &lt;br&gt; ic::Muon::dr04_pfiso_charged &lt;br&gt; ic::Muon::dr04_pfiso_neutral &lt;br&gt; ic::Muon::dr04_pfiso_gamma &lt;br&gt; <a class="code" href="classic_1_1_muon.html#a53d582edcc292e07bb20c48f7d8e4f9a" title="PF isolation, using charged pileup in a cone with .">ic::Muon::dr04_pfiso_pu</a> | These should be calculated on-the-fly in a CMSSW job. Individual analyses may modify the isolation definition, <span class="keywordflow">for</span> <a class="code" href="_objects_8md.html#a59a691306f9cc62e23cca13fb31aa10a">example</a> changing veto cones. See the section \ref obs-pf-iso below <span class="keywordflow">for</span> software recipes.  Two sets of isolation values may be stored, nominally <span class="keywordflow">for</span> isolation cones of sizes \f$\Delta R = 0.3\f$ and \f$\Delta R = 0.4\f$. These are enabled via the options `includePFIso03` and `includePFIso04` respectively. The `InputTag` <span class="keywordflow">for each</span> isolation sum `ValueMap` must be specified in the `pfIso03` and/or `pfIso04` PSets as relevant.
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 **Example usage**
<a name="l00081"></a>00081 \snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_muon.html" title="This class stores a subset of the reco::Muon properties which are most commonly used in analysis...">Muon</a>
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <a class="code" href="classic_1_1_photon.html" title="This class stores a subset of the reco::Photon properties which are most commonly used in analysis...">Photon</a> {#objs-photon}
<a name="l00084"></a>00084 =====================
<a name="l00085"></a>00085  - **Definition**: <a class="code" href="classic_1_1_photon.html" title="This class stores a subset of the reco::Photon properties which are most commonly used in analysis...">ic::Photon</a>
<a name="l00086"></a>00086  - **CMSSW Producer**: <a class="code" href="class_i_c_photon_producer.html" title="See documentation [here](objs-photon)">ICPhotonProducer</a>
<a name="l00087"></a>00087  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;reco::Photon&gt;`
<a name="l00088"></a>00088  - **Producer Output**: `std::vector&lt;ic::Photon&gt;`
<a name="l00089"></a>00089 
<a name="l00090"></a>00090 The <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> takes as input a <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> of `reco::Photon` objects. The <a class="code" href="_objects_8md.html#adc1a58a870f6e0330cb295960741ce08">following</a> <a class="code" href="classic_1_1_photon.html" title="This class stores a subset of the reco::Photon properties which are most commonly used in analysis...">ic::Photon</a> properties are not calculated by <span class="keywordflow">default</span>:
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 Properties    | Notes
<a name="l00093"></a>00093 :------------ | :---------- |
<a name="l00094"></a>00094 <a class="code" href="classic_1_1_photon.html#ab444f148c7d5a0d65010963efe2bfaed" title="True if photon passes the electron veto.">ic::Photon::pass_electron_veto</a> | This flag is calculated by a separate <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> in <span class="keyword">this</span> <a class="code" href="_main_8md.html#a84431b9b00f97f868d0190436f6b2694">package</a>: <a class="code" href="class_i_c_photon_electron_veto_calculator.html" title="Produces an edm::ValueMap&lt;bool&gt; for the photon electron-veto flag.">ICPhotonElectronVetoCalculator</a>
<a name="l00095"></a>00095 <a class="code" href="classic_1_1_photon.html#ad35cd81e23437c3abcc86435f199d8b9" title="Hadronic over electromagnetic energy fraction.">ic::Photon::had_tower_over_em</a> | This is calculated by an external <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> available in the [ICAnalysis-PhotonHadTowerOverEmCalculator](https:<span class="comment">//github.com/ajgilbert/ICAnalysis-PhotonHadTowerOverEmCalculator) repository.</span>
<a name="l00096"></a>00096 ic::Photon::dr03_pfiso_charged &lt;br&gt; ic::Photon::dr03_pfiso_neutral &lt;br&gt; <a class="code" href="classic_1_1_photon.html#a842d88f9a05b9b1e516b0493032b7b57" title="PF isolation, using photons in a cone with .">ic::Photon::dr03_pfiso_gamma</a> | As <span class="keywordflow">for</span> <a class="code" href="classic_1_1_electron.html" title="This class stores a subset of the reco::GsfElectron properties which are most commonly used in analys...">Electron</a> and <a class="code" href="classic_1_1_muon.html" title="This class stores a subset of the reco::Muon properties which are most commonly used in analysis...">Muon</a> production the isolation values will be extracted from the specified `ValueMap` inputs.
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 **Example usage**
<a name="l00099"></a>00099 \snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_photon.html" title="This class stores a subset of the reco::Photon properties which are most commonly used in analysis...">Photon</a>
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 <a class="code" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">Tau</a> {#objs-tau}
<a name="l00102"></a>00102 ===============
<a name="l00103"></a>00103  - **Definition**: <a class="code" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">ic::Tau</a>
<a name="l00104"></a>00104  - **CMSSW Producer**: <a class="code" href="class_i_c_tau_producer.html" title="See documentation [here](objs-tau)">ICTauProducer</a>
<a name="l00105"></a>00105  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;reco::PFTau&gt;` or an `edm::View&lt;pat::Tau&gt;`, but see below
<a name="l00106"></a>00106  - **Producer Output**: `std::vector&lt;ic::Tau&gt;`
<a name="l00107"></a>00107  - **Producer Requests**: Can request the `reco::Track` objects from the charged PF constituents. The request will be produced with the label `requestedTracks`.
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 The <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> is a <span class="keyword">template</span> <span class="keyword">class </span>on the type of the input objects. Two specific <span class="keyword">template</span> instances are defined as CMSSW modules: one <span class="keywordflow">for</span> `reco::PFTau` input (<a class="code" href="class_i_c_tau_producer.html" title="See documentation [here](objs-tau)">ICPFTauProducer</a>) and the other for `pat::<a class="code" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">Tau</a>` input (<a class="code" href="class_i_c_tau_producer.html" title="See documentation [here](objs-tau)">ICPFTauFromPatProducer</a>). The main difference between the two is that the user must specify the list of discriminators to extract from the `edm::Event` in the `reco::PFTau` case,  whereas in the `pat::<a class="code" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">Tau</a>` case these are extracted directly from the input <span class="keywordtype">object</span>.
<a name="l00110"></a>00110 
<a name="l00111"></a>00111 The <a class="code" href="_objects_8md.html#adc1a58a870f6e0330cb295960741ce08">following</a> ic::<a class="code" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">Tau</a> properties are not calculated by default:
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 Properties    | Notes
<a name="l00114"></a>00114 :------------ | :---------- |
<a name="l00115"></a>00115 ic::<a class="code" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">Tau</a>::lead_dxy_vertex &lt;br&gt; ic::<a class="code" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">Tau</a>::lead_dz_vertex | These must be calculated with respect to a user-specified reco::<a class="code" href="classic_1_1_vertex.html" title="Stores information about the position of an event vertex and the quality of the track fit...">Vertex</a>. The first vertex in the <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> specified by the `inputVertices` option will be used when `includeVertexIP` is set to `True`.
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 **Example usage**
<a name="l00118"></a>00118 \snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">Tau</a>
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 Missing Tranvserse Energy {#objs-met}
<a name="l00121"></a>00121 =====================================
<a name="l00122"></a>00122  - **Definition**: <a class="code" href="classic_1_1_met.html" title="Stores a missing transverse energy object and the corresponding significance.">ic::Met</a>
<a name="l00123"></a>00123  - **CMSSW Producers**: <a class="code" href="class_i_c_met_producer.html" title="See documentation [here](objs-met)">ICMetProducer</a>, <a class="code" href="class_i_c_single_met_producer.html" title="See documentation [here](objs-met)">ICSingleMetProducer</a>
<a name="l00124"></a>00124  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;reco::MET&gt;`
<a name="l00125"></a>00125  - **Producer Output**: `std::vector&lt;ic::Met&gt;` in the <a class="code" href="class_i_c_met_producer.html" title="See documentation [here](objs-met)">ICMetProducer</a>, and `<a class="code" href="classic_1_1_met.html" title="Stores a missing transverse energy object and the corresponding significance.">ic::Met</a>` in the <a class="code" href="class_i_c_single_met_producer.html" title="See documentation [here](objs-met)">ICSingleMetProducer</a>
<a name="l00126"></a>00126 
<a name="l00127"></a>00127 Two producers are provided, both of which take a vector of `reco::MET` (or derived) objects as input. The <a class="code" href="class_i_c_met_producer.html" title="See documentation [here](objs-met)">ICMetProducer</a> will produce a vector of `<a class="code" href="classic_1_1_met.html" title="Stores a missing transverse energy object and the corresponding significance.">ic::Met</a>` objects, whereas the <a class="code" href="class_i_c_single_met_producer.html" title="See documentation [here](objs-met)">ICSingleMetProducer</a> will produce a single `<a class="code" href="classic_1_1_met.html" title="Stores a missing transverse energy object and the corresponding significance.">ic::Met</a>` <span class="keywordtype">object</span>. The <a class="code" href="class_i_c_met_producer.html" title="See documentation [here](objs-met)">ICMetProducer</a> can optionally read a `vector&lt;std::size_t&gt;` from the edm::Event that should be aligned with the input `vector&lt;reco::MET&gt;` and will be used to <span class="keyword">set</span> the <a class="code" href="classic_1_1_candidate.html#a3dce7c97c6230f7048878807c180446f" title="Unique identifier.">ic::Met::id</a> values in the output <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a>. The main use <span class="keywordflow">for</span> <span class="keyword">this</span> feature is in conjunction with the [MVA MET](\ref objs-mva-met) <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> where `MET` objects must be identified by combined hashes of the lepton inputs.
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 **Example usage**
<a name="l00130"></a>00130 \snippet python/default_producers_cfi.py Met
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 \snippet python/default_producers_cfi.py SingleMet
<a name="l00133"></a>00133 
<a name="l00134"></a>00134 <a class="code" href="classic_1_1_jet.html" title="A basic jet class to store properties common to all jet types.">Jet</a> {#objs-jet}
<a name="l00135"></a>00135 ===============
<a name="l00136"></a>00136  - **Definition**: <a class="code" href="classic_1_1_jet.html" title="A basic jet class to store properties common to all jet types.">ic::Jet</a>, <a class="code" href="classic_1_1_calo_jet.html" title="Derived from the ic::Jet class and adding information specific to calorimeter jets.">ic::CaloJet</a>, <a class="code" href="classic_1_1_j_p_t_jet.html" title="A class derived from ic::Jet which adds Jet-plus-track specific information.">ic::JPTJet</a>, <a class="code" href="classic_1_1_p_f_jet.html" title="A class deriving from ic::Jet that provides specific information for particle-flow jets...">ic::PFJet</a>
<a name="l00137"></a>00137  - **CMSSW Producers**: <a class="code" href="class_i_c_jet_producer.html" title="See documentation [here](objs-jet)">ICJetProducer</a> (see below <span class="keywordflow">for</span> <span class="keyword">template</span> instantiations)
<a name="l00138"></a>00138  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;reco::Jet&gt;` or `edm::View&lt;pat::Jet&gt;` (see below <span class="keywordflow">for</span> details)
<a name="l00139"></a>00139  - **Producer Output**: `std::vector&lt;ic::Jet&gt;`, `std::vector&lt;ic::CaloJet&gt;`, `std::vector&lt;ic::JPTJet&gt;`, `std::vector&lt;ic::PFJet&gt;`
<a name="l00140"></a>00140  - **Producer Requests**:
<a name="l00141"></a>00141    + Can request the `reco::Track` objects <span class="keywordflow">for</span> the charged constituents of <a class="code" href="classic_1_1_p_f_jet.html" title="A class deriving from ic::Jet that provides specific information for particle-flow jets...">PFJet</a> or <a class="code" href="classic_1_1_j_p_t_jet.html" title="A class derived from ic::Jet which adds Jet-plus-track specific information.">JPTJet</a> inputs. The request will be produced with the label `requestedTracks`.
<a name="l00142"></a>00142    + Can request the `reco::SecondaryVertexTagInfo` objects associated to the jets, which will be produced with the label `requestedSVInfo`.
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 The ic::JetProducer is a <span class="keyword">template</span> <span class="keyword">class</span> that is specialised <span class="keywordflow">for</span> both the input and output jet types. While making the code more complex, <span class="keyword">this</span> avoids a large amount of duplication that would result <span class="keywordflow">for</span> have a normal <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> <span class="keywordflow">for each</span> possible input-output pairing. The possible CMSSW producers are defined [here](\ref JetProducers).
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 Each choice of input and output type brings with it the need <span class="keywordflow">for</span> a specific <span class="keyword">set</span> of options. This is addressed through two helper structs, the <a class="code" href="struct_jet_src_helper.html" title="A struct to help with the configuration of the ICJetProducer, in particular the aspects that depend o...">JetSrcHelper</a> which is templated only on the input type, and the <a class="code" href="struct_jet_dest_helper.html">JetDestHelper</a> which is templated only on the output type. Please see the documentation pages of these structs <span class="keywordflow">for</span> further details.
<a name="l00147"></a>00147 
<a name="l00148"></a>00148 An important distinction to make between <span class="keyword">using</span> a reco::Jet and a pat::Jet as input is the treatment of the jet energy corrections. This module assumes a reco::Jet <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> as input is uncorrected. The <a class="code" href="struct_jet_src_helper.html" title="A struct to help with the configuration of the ICJetProducer, in particular the aspects that depend o...">JetSrcHelper</a> in <span class="keyword">this</span> <span class="keywordflow">case</span> <a class="code" href="_main_8md.html#a0206588fdea9be6f57d4c722d3543ccc">provides</a> extra options to specify the list of corrections to apply and an optional cut <span class="keywordtype">string</span> that may be applied after the input jet is corrected and before a corresponding <a class="code" href="classic_1_1_jet.html" title="A basic jet class to store properties common to all jet types.">ic::Jet</a> is produced.
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 The <a class="code" href="_objects_8md.html#adc1a58a870f6e0330cb295960741ce08">following</a> properties are not calculated by <span class="keywordflow">default</span>:
<a name="l00151"></a>00151 Properties    | Notes
<a name="l00152"></a>00152 :------------ | :---------- |
<a name="l00153"></a>00153 <a class="code" href="classic_1_1_jet.html#a1375692c109756397348c3c8f78ef44c" title="An algorithmic determination of the true flavour of the jet, e.g. gluon, light, c or b quark...">ic::Jet::parton_flavour</a> | *For reco::Jet input producers only*: The MC truth jet flavour (as a PDG ID). The method by which <span class="keyword">this</span> is calculated is expected to change <span class="keywordflow">for</span> 2015 data analyses. In anticipation, the calculation has moved to a separate <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a>: <a class="code" href="class_i_c_jet_flavour_calculator.html">ICJetFlavourCalculator</a>, within <span class="keyword">this</span> <a class="code" href="_main_8md.html#a84431b9b00f97f868d0190436f6b2694">package</a>. This calculates a `ValueMap` which should be specified by the option `inputJetFlavour` when the `includeJetFlavour` option is <span class="keyword">set</span> to `True`.
<a name="l00154"></a>00154 ic::PFJet::pu_id_mva_value | *For <a class="code" href="classic_1_1_p_f_jet.html" title="A class deriving from ic::Jet that provides specific information for particle-flow jets...">ic::PFJet</a> output producers only*: See the section [below](\ref objs-mva-met) <span class="keywordflow">for</span> details on producing a pileup jet MVA `ValueMap`. This should be specified by the option `inputPileupID` when the `icludePileupID` option is <span class="keyword">set</span> to `True`.
<a name="l00155"></a>00155 ic::PFJet::beta &lt;br&gt; ic::PFJet::beta_max &lt;br&gt; ic::PFJet::linear_radial_moment &lt;br&gt; <a class="code" href="classic_1_1_p_f_jet.html#a1d0a007796731d8eba16124df2148d53" title="The number of charged constituents associated to the PV.">ic::PFJet::charged_multiplicity_nopu</a> | *For <a class="code" href="classic_1_1_p_f_jet.html" title="A class deriving from ic::Jet that provides specific information for particle-flow jets...">ic::PFJet</a> output producers only:* These variables are only calculated when `includeTrackBasedVars` is <span class="keyword">set</span> to `True` and both the `inputTracks` and `inputVertices` collections are defined.
<a name="l00156"></a>00156 ic::JPTJet::beta &lt;br&gt; ic::JPTJet::beta_max &lt;br&gt; <a class="code" href="classic_1_1_j_p_t_jet.html#ade6a56787dbff1cdb4777a7e2037d13b" title="The scalar sum of track .">ic::JPTJet::track_pt_total</a> | *For ic::JPTJet output producers only:* These variables are only calculated when `includeTrackBasedVars` is <span class="keyword">set</span> to `True` and both the `inputTracks` and `inputVertices` collections are defined.
<a name="l00157"></a>00157 ic::CaloJet::fHPD &lt;br&gt; ic::CaloJet::fRBX &lt;br&gt; ic::CaloJet::id_loose &lt;br&gt; <a class="code" href="classic_1_1_calo_jet.html#ad6c814416f5bd23327f5a4a232e7ea74" title="Flag indicates if the jet passes the tight ID.">ic::CaloJet::id_tight</a> | *For ic::CaloJet and ic::JPTJet output producers only:* Requires an external `reco::JetID` map. Set `inputJetID` to the label of <span class="keyword">this</span> map and <span class="keyword">set</span> `includeJetID` to `True`.
<a name="l00158"></a>00158 
<a name="l00159"></a>00159 **Example usage**
<a name="l00160"></a>00160 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_jet.html" title="A basic jet class to store properties common to all jet types.">Jet</a>
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <a class="code" href="classic_1_1_vertex.html" title="Stores information about the position of an event vertex and the quality of the track fit...">Vertex</a> {#objs-vertex}
<a name="l00163"></a>00163 =====================
<a name="l00164"></a>00164  - **Definition**: <a class="code" href="classic_1_1_vertex.html" title="Stores information about the position of an event vertex and the quality of the track fit...">ic::Vertex</a>
<a name="l00165"></a>00165  - **CMSSW Producers**: <a class="code" href="class_i_c_vertex_producer.html" title="See documentation [here](objs-vertex)">ICVertexProducer</a>
<a name="l00166"></a>00166  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;reco::Vertex&gt;`
<a name="l00167"></a>00167  - **Producer Output**: `std::vector&lt;ic::Vertex&gt;`
<a name="l00168"></a>00168  - **Producer Requests**: Can request the `reco::Track` objects used in the vertex fit. The request will be produced with the label `requestedTracks`.
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 The <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> can be configured to store only the first vertex in the input <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> by setting the value of the `firstVertexOnly` option to `True`. The <a class="code" href="classic_1_1_track.html#a69213c649220ee023448b8cc27d87457" title="The unique identifier.">ic::Track::id</a> values of the tracks used in each vertex fit can also be stored (along with the fit weighting), subject to a minimum threshold <span class="keyword">set</span> by the option `trackPtThreshold`.
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 **Example usage**
<a name="l00173"></a>00173 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_vertex.html" title="Stores information about the position of an event vertex and the quality of the track fit...">Vertex</a>
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 Secondary <a class="code" href="classic_1_1_vertex.html" title="Stores information about the position of an event vertex and the quality of the track fit...">Vertex</a> {#objs-sec-vertex}
<a name="l00176"></a>00176 ===================================
<a name="l00177"></a>00177  - **Definition**: <a class="code" href="classic_1_1_secondary_vertex.html" title="A class deriving from ic::Vertex and adding information on the 3D flight distance.">ic::SecondaryVertex</a>
<a name="l00178"></a>00178  - **CMSSW Producers**: <a class="code" href="class_i_c_secondary_vertex_producer.html" title="See documentation [here](objs-sec-vertex)">ICSecondaryVertexProducer</a>
<a name="l00179"></a>00179  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;reco::SecondaryVertexTagInfo&gt;`
<a name="l00180"></a>00180  - **Producer Output**: `std::vector&lt;ic::SecondaryVertex&gt;`
<a name="l00181"></a>00181  - **Producer Requests**: Can request the `reco::Track` objects used in the vertex fit. The request will be produced with the label `requestedTracks`.
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 Note that each reco::SecondaryVertexTagInfo input (one per jet) can contain multiple secondary vertices, each of which will be added to the output <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a>. The <a class="code" href="classic_1_1_track.html#a69213c649220ee023448b8cc27d87457" title="The unique identifier.">ic::Track::id</a> values of the tracks used in each vertex fit can also be stored (along with the fit weighting), subject to a minimum threshold <span class="keyword">set</span> by the option `trackPtThreshold`.
<a name="l00184"></a>00184 
<a name="l00185"></a>00185 **Example usage**
<a name="l00186"></a>00186 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_secondary_vertex.html" title="A class deriving from ic::Vertex and adding information on the 3D flight distance.">SecondaryVertex</a>
<a name="l00187"></a>00187 
<a name="l00188"></a>00188 <a class="code" href="classic_1_1_track.html" title="Stores limited information about the track kinematics and trajectory.">Track</a> {#objs-track}
<a name="l00189"></a>00189 ===================
<a name="l00190"></a>00190  - **Definitions**: <a class="code" href="classic_1_1_track.html" title="Stores limited information about the track kinematics and trajectory.">ic::Track</a>, <a class="code" href="classic_1_1_light_track.html" title="Stores a minimal amount of track information. May be used instead of the ic::Track class to save file...">ic::LightTrack</a>
<a name="l00191"></a>00191  - **CMSSW Producers**: <a class="code" href="class_i_c_track_producer.html" title="See documentation [here](objs-track)">ICTrackProducer</a>, <a class="code" href="class_i_c_light_track_producer.html" title="See documentation [here](objs-track)">ICLightTrackProducer</a>
<a name="l00192"></a>00192  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;reco::Track&gt;`
<a name="l00193"></a>00193  - **Producer Output**: `std::vector&lt;ic::Track&gt;` or `std::vector&lt;ic::LightTrack&gt;`
<a name="l00194"></a>00194 
<a name="l00195"></a>00195 Two track <a class="code" href="_main_8md.html#a4d8eecea6fd2fa3829e70cfeb90d107b">classes</a> are provided. The `<a class="code" href="classic_1_1_track.html" title="Stores limited information about the track kinematics and trajectory.">ic::Track</a>` is the standard <span class="keyword">class </span>and the `<a class="code" href="classic_1_1_light_track.html" title="Stores a minimal amount of track information. May be used instead of the ic::Track class to save file...">ic::LightTrack</a>` <a class="code" href="_main_8md.html#a0206588fdea9be6f57d4c722d3543ccc">provides</a> a limited subset of the `<a class="code" href="classic_1_1_track.html" title="Stores limited information about the track kinematics and trajectory.">ic::Track</a>` variables <span class="keywordflow">for</span> situations where these are sufficient <span class="keywordflow">for</span> analysis and ntuple space is at a premium.
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 **Example usage**
<a name="l00198"></a>00198 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_track.html" title="Stores limited information about the track kinematics and trajectory.">Track</a>
<a name="l00199"></a>00199 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_light_track.html" title="Stores a minimal amount of track information. May be used instead of the ic::Track class to save file...">LightTrack</a>
<a name="l00200"></a>00200 
<a name="l00201"></a>00201 <a class="code" href="classic_1_1_gen_particle.html" title="Stores the basic properties of generator-level particles as well as mother-daughter relations with ot...">GenParticle</a> {#objs-genparticle}
<a name="l00202"></a>00202 =========================
<a name="l00203"></a>00203  - **Definition**: <a class="code" href="classic_1_1_gen_particle.html" title="Stores the basic properties of generator-level particles as well as mother-daughter relations with ot...">ic::GenParticle</a>
<a name="l00204"></a>00204  - **CMSSW Producers**: <a class="code" href="class_i_c_gen_particle_producer.html" title="See documentation [here](objs-genparticle)">ICGenParticleProducer</a>
<a name="l00205"></a>00205  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;reco::GenParticle&gt;`
<a name="l00206"></a>00206  - **Producer Output**: `std::vector&lt;ic::GenParticle&gt;`
<a name="l00207"></a>00207 
<a name="l00208"></a>00208 The <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> can optionally store the relations between particles in decay chains <span class="keyword">using</span> the `includeMothers` and `includeDaughters` flags. When enabled, these options tell the <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> to save the corresponding vectors of <a class="code" href="classic_1_1_gen_particle.html#a8c19cd0da658c6d7f0cc3218fd03be49" title="The index position of the particle in the original list.">ic::GenParticle::index</a> values. Note that <span class="keyword">this</span> index is different from the <a class="code" href="classic_1_1_candidate.html#a3dce7c97c6230f7048878807c180446f" title="Unique identifier.">ic::GenParticle::id</a> value, and is equal to the vector index position of the `reco::GenParticle` in the input <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a>.
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 **Example usage**
<a name="l00211"></a>00211 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_gen_particle.html" title="Stores the basic properties of generator-level particles as well as mother-daughter relations with ot...">GenParticle</a>
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 <a class="code" href="classic_1_1_gen_jet.html" title="Stores the basic properties of a generator-level jet, in particular can save the IDs of the GenPartic...">GenJet</a> {#objs-genjet}
<a name="l00214"></a>00214 =====================
<a name="l00215"></a>00215  - **Definition**: <a class="code" href="classic_1_1_gen_jet.html" title="Stores the basic properties of a generator-level jet, in particular can save the IDs of the GenPartic...">ic::GenJet</a>
<a name="l00216"></a>00216  - **CMSSW Producers**: <a class="code" href="class_i_c_gen_jet_producer.html" title="See documentation [here](objs-genjet)">ICGenJetProducer</a>
<a name="l00217"></a>00217  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;reco::GenJet&gt;`
<a name="l00218"></a>00218  - **Producer Output**: `std::vector&lt;ic::GenJet&gt;`
<a name="l00219"></a>00219  - **Producer Requests**: Can request the `reco::GenParticle` objects clustered into each jet. The request will be produced with the label `requestedGenParticles`.
<a name="l00220"></a>00220 
<a name="l00221"></a>00221 Note that due to technical limitations, <span class="keywordflow">if</span> the `requestGenParticles` option is <span class="keyword">set</span> to `True`, the original `reco::GenParticle` <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> from which the jets were clustered must also be specified in the option `inputGenParticles`.
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 **Example usage**
<a name="l00224"></a>00224 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_gen_jet.html" title="Stores the basic properties of a generator-level jet, in particular can save the IDs of the GenPartic...">GenJet</a>
<a name="l00225"></a>00225 
<a name="l00226"></a>00226 <a class="code" href="classic_1_1_pileup_info.html" title="Stores information on the in-time or out-of-time simulated pileup interactions.">PileupInfo</a> {#objs-pu-info}
<a name="l00227"></a>00227 ==========================
<a name="l00228"></a>00228  - **Definition**: <a class="code" href="classic_1_1_pileup_info.html" title="Stores information on the in-time or out-of-time simulated pileup interactions.">ic::PileupInfo</a>
<a name="l00229"></a>00229  - **CMSSW Producers**: <a class="code" href="class_i_c_pileup_info_producer.html" title="See documentation [here](objs-pu-info)">ICPileupInfoProducer</a>
<a name="l00230"></a>00230  - **Producer Input**: Any <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> compatible with an `edm::View&lt;PileupSummaryInfo&gt;`
<a name="l00231"></a>00231  - **Producer Output**: `std::vector&lt;ic::PileupInfo&gt;`
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 Each <span class="keywordtype">object</span> `PileupSummaryInfo` <span class="keywordtype">object</span> in the input <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> <a class="code" href="_main_8md.html#a0206588fdea9be6f57d4c722d3543ccc">provides</a> the pileup information <span class="keywordflow">for</span> a single bunch crossing. The bunch crossing number, <a class="code" href="classic_1_1_pileup_info.html#a57b12051485c00914352e58aa346a45f" title="Bunch crossing where zero implies in-time and non-zero out-of-time.">ic::PileupInfo::bunch_crossing</a> can be used to identify the bunch crossing relative to the hard scatter interaction (which has a bunch crossing of zero).
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 **Example usage**
<a name="l00236"></a>00236 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_pileup_info.html" title="Stores information on the in-time or out-of-time simulated pileup interactions.">PileupInfo</a>
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 <a class="code" href="classic_1_1_super_cluster.html" title="See documentation [here](objs-supercluster)">SuperCluster</a> {#objs-supercluster}
<a name="l00239"></a>00239 =================================
<a name="l00240"></a>00240  - **Definition**: <a class="code" href="classic_1_1_super_cluster.html" title="See documentation [here](objs-supercluster)">ic::SuperCluster</a>
<a name="l00241"></a>00241  - **CMSSW Producers**: <a class="code" href="class_i_c_super_cluster_producer.html" title="Produces an ic::SuperCluster collection from the separate barrel and endcap collections, which must be compatible with an edm::View&lt;reco::SuperCluster&gt;">ICSuperClusterProducer</a>
<a name="l00242"></a>00242  - **Producer Input**: Two collections (EB and EE) compatible with an `edm::View&lt;reco::SuperCluster&gt;`
<a name="l00243"></a>00243  - **Producer Output**: `std::vector&lt;ic::SuperCluster&gt;`
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 The `<a class="code" href="classic_1_1_super_cluster.html" title="See documentation [here](objs-supercluster)">ic::SuperCluster</a>` <span class="keyword">class </span>does not inherit from <a class="code" href="classic_1_1_candidate.html" title="Stores a four-momentum, charge and identifier, and is the base class for most other physics objects...">ic::Candidate</a> but is instead specified by the supercluster position and direction with respect to the detector origin. The <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> requires two collections as input as these are stored separately <span class="keywordflow">for</span> barrel and endcap superclusters in the `edm::Event`.
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 **Example usage**
<a name="l00248"></a>00248 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_super_cluster.html" title="See documentation [here](objs-supercluster)">SuperCluster</a>
<a name="l00249"></a>00249 
<a name="l00250"></a>00250 <a class="code" href="classic_1_1_trigger_path.html" title="Information on a trigger path, including accept, prescale and version information.">TriggerPath</a> {#objs-trig-path}
<a name="l00251"></a>00251 =============================
<a name="l00252"></a>00252  - **Definition**: <a class="code" href="classic_1_1_trigger_path.html" title="Information on a trigger path, including accept, prescale and version information.">ic::TriggerPath</a>
<a name="l00253"></a>00253  - **CMSSW Producers**: <a class="code" href="class_i_c_trigger_path_producer.html" title="See documentation [here](objs-trig-path)">ICTriggerPathProducer</a>
<a name="l00254"></a>00254  - **Producer Input**: A `pat::TriggerEvent` <span class="keywordtype">object</span>
<a name="l00255"></a>00255  - **Producer Output**: `std::vector&lt;ic::TriggerPath&gt;`
<a name="l00256"></a>00256 
<a name="l00257"></a>00257 The <a class="code" href="_objects_8md.html#a10e3df26bd38f398bd2ac82ca2c5fe05">file</a> `test/validation_cfg.py` <a class="code" href="namespacech.html#a961ef6b98124198d1648868011bc0153">contains</a> examples <span class="keywordflow">for</span> creating the `pat::TriggerEvent` in various CMSSW <a class="code" href="_objects_8md.html#a0f9b0b4d3921744c6054e9dfd412256c">releases</a>. The <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> can be configured to only store the paths that fired in each <a class="code" href="_objects_8md.html#af07fd46a22fce46b8e6ea4f40de9b27a">event</a> via the option `includeAcceptedOnly`. There is also an option `splitVersion` (off by <span class="keywordflow">default</span>) to strip the integer version number from each trigger path name, and store <span class="keyword">this</span> is a separate variable: <a class="code" href="classic_1_1_trigger_path.html#a33d4ff9f41d5b12095c7fa5f7267d73a" title="The trigger version number.">ic::TriggerPath::version</a>. If <span class="keyword">this</span> is enabled it may also be useful to <span class="keyword">set</span> `saveStrings` to `False`. The <a class="code" href="classic_1_1_trigger_path.html#a8d1332435c41d38cc5b092178ee189ae" title="The trigger path name.">ic::TriggerPath::name</a> will not be written, the version-less name will still be hashed and stored in the <a class="code" href="classic_1_1_trigger_path.html#ac36cf35ef2f059d9e38d9e55524a3013" title="Unique identifier, usually a hash of the trigger name.">ic::TriggerPath::id</a> variables, saving space overall.
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 **Example usage**
<a name="l00260"></a>00260 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_trigger_path.html" title="Information on a trigger path, including accept, prescale and version information.">TriggerPath</a>
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 <a class="code" href="classic_1_1_trigger_object.html" title="Stores the four-momentum of a trigger object as well as a list of the (hashed) filter labels the obje...">TriggerObject</a> {#objs-trig-obj}
<a name="l00263"></a>00263 =============================
<a name="l00264"></a>00264  - **Definition**: <a class="code" href="classic_1_1_trigger_object.html" title="Stores the four-momentum of a trigger object as well as a list of the (hashed) filter labels the obje...">ic::TriggerObject</a>
<a name="l00265"></a>00265  - **CMSSW Producers**: <a class="code" href="class_i_c_trigger_object_producer.html" title="See documentation [here](objs-trig-obj)">ICTriggerObjectProducer</a>
<a name="l00266"></a>00266  - **Producer Input**: A `pat::TriggerEvent` <span class="keywordtype">object</span>
<a name="l00267"></a>00267  - **Producer Output**: `std::vector&lt;ic::TriggerObject&gt;`
<a name="l00268"></a>00268 
<a name="l00269"></a>00269 The <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> will store a <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> of trigger objects used in the specified `hltPath`. Each <span class="keywordtype">object</span> stores a vector of the (hashed) labels of the filter modules that accepted the <span class="keywordtype">object</span> in the path.
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 **Example usage**
<a name="l00272"></a>00272 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_trigger_object.html" title="Stores the four-momentum of a trigger object as well as a list of the (hashed) filter labels the obje...">TriggerObject</a>
<a name="l00273"></a>00273 
<a name="l00274"></a>00274 <a class="code" href="classic_1_1_event_info.html" title="Stores core event information such as run, lumi and event number, as well as event weights and filter...">EventInfo</a> {#objs-<a class="code" href="_objects_8md.html#af07fd46a22fce46b8e6ea4f40de9b27a">event</a>-info}
<a name="l00275"></a>00275 ============================
<a name="l00276"></a>00276  - **Definition**: <a class="code" href="classic_1_1_event_info.html" title="Stores core event information such as run, lumi and event number, as well as event weights and filter...">ic::EventInfo</a>
<a name="l00277"></a>00277  - **CMSSW Producers**: <a class="code" href="class_i_c_event_info_producer.html" title="Produces an ic::EventInfo object.">ICEventInfoProducer</a>
<a name="l00278"></a>00278  - **Producer Input**: No mandatory input
<a name="l00279"></a>00279  - **Producer Output**: `<a class="code" href="classic_1_1_event_info.html" title="Stores core event information such as run, lumi and event number, as well as event weights and filter...">ic::EventInfo</a>`
<a name="l00280"></a>00280 
<a name="l00281"></a>00281 The core <a class="code" href="_objects_8md.html#af07fd46a22fce46b8e6ea4f40de9b27a">event</a> variables, such as <a class="code" href="_objects_8md.html#af07fd46a22fce46b8e6ea4f40de9b27a">event</a>, lumi and run, are stored automatically. Other variables of interest may be added via the <a class="code" href="_objects_8md.html#a4c2be9ee8bba6b8eaaf87d2aaaca09f3">producer</a> options. The options `includeJetRho` and `includeLeptonRho` can be used to store the values of the median energy densities used <span class="keywordflow">for</span> the pileup jet energy correction and the lepton pileup isolation respectively. The appropriate inputs should be specified by the options `inputJetRho` and `inputLeptonRho`. The number of vertices in a particular <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a> (`inputVertices`) can also be stored (`includeVertexCount`), which is a space-saving alternative to storing an entire `ic::<a class="code" href="classic_1_1_vertex.html" title="Stores information about the position of an event vertex and the quality of the track fit...">Vertex</a>` <a class="code" href="_objects_8md.html#aa4a235a20c150255291619403cda0c99">collection</a>. The options `filters`, `weights` and `genFilterWeights` are used to specify corresponding lists of input `<span class="keywordtype">bool</span>`, `<span class="keywordtype">double</span>` and `GenFilterInfo` values that should be added to the `ic::<a class="code" href="classic_1_1_event_info.html" title="Stores core event information such as run, lumi and event number, as well as event weights and filter...">EventInfo</a>` using the labels provided in the `PSet`.
<a name="l00282"></a>00282 
<a name="l00283"></a>00283 **Example usage**
<a name="l00284"></a>00284 @snippet python/default_producers_cfi.py <a class="code" href="classic_1_1_event_info.html" title="Stores core event information such as run, lumi and event number, as well as event weights and filter...">EventInfo</a>
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 Non-standard Objects {#obs-non-standard}
<a name="l00287"></a>00287 ========================================
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 MVA MET / Pileup jet ID {#objs-mva-met}
<a name="l00290"></a>00290 ---------------------------------------
<a name="l00291"></a>00291 Supported <a class="code" href="_objects_8md.html#a0f9b0b4d3921744c6054e9dfd412256c">releases</a>:
<a name="l00292"></a>00292   - `CMSSW_4_2_8_patch7`
<a name="l00293"></a>00293   - `CMSSW_5_3_X`
<a name="l00294"></a>00294   - `CMSSW_7_0_X` *pileup jet ID only*
<a name="l00295"></a>00295 
<a name="l00296"></a>00296 Links:
<a name="l00297"></a>00297   - https:<span class="comment">//twiki.cern.ch/twiki/bin/viewauth/CMS/MVAMet</span>
<a name="l00298"></a>00298   - https:<span class="comment">//twiki.cern.ch/twiki/bin/viewauth/CMS/PileupJetID</span>
<a name="l00299"></a>00299   - https:<span class="comment">//github.com/ajgilbert/ICAnalysis-MVAMETPairProducer</span>
<a name="l00300"></a>00300 
<a name="l00301"></a>00301 The MVA MET is not available by <span class="keywordflow">default</span> in any CMSSW <a class="code" href="_objects_8md.html#ad989061fc01a5ac002681332d436fb49">release</a>, and pileup jet ID is only included in the `CMSSW_7_0_X` series. A recipe is given below <span class="keywordflow">for</span> obtaining the versions that were used in the legacy HiggsTauTau analysis, which was based on `<a class="code" href="_git_and_c_m_s_s_w_8md.html#af2108a2cf9a54eb42b8267b8814d4b37">CMSSW_5_3_7</a>`. Newer recipes <span class="keywordflow">for</span> the MVA MET have also been provided and are currently in use by some groups. See the twiki page above <span class="keywordflow">for</span> details. Notably, newer MVA trainings have been provided that <span class="keywordflow">do</span> not require the addition of recoil corrections, but these have not yet been tested in <span class="keyword">this</span> <a class="code" href="_main_8md.html#a4656b1b3cd771a98aff167eb21165897">framework</a>.
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 The <a class="code" href="_objects_8md.html#adc1a58a870f6e0330cb295960741ce08">following</a> recipe can be used to <span class="keyword">set</span>-up the MVA MET and pileup ID in a different `CMSSW_5_3_X` <a class="code" href="_objects_8md.html#ad989061fc01a5ac002681332d436fb49">release</a>. It works by extracting the relevant git commits from a prepared branch based on the `CMSSSW_5_3_7` <a class="code" href="_objects_8md.html#ad989061fc01a5ac002681332d436fb49">release</a>, and applying these commits to a branch created from a different <a class="code" href="_objects_8md.html#ad989061fc01a5ac002681332d436fb49">release</a>.
<a name="l00304"></a>00304 
<a name="l00305"></a>00305 ~~~~~~~~~~~~~{.sh}
<a name="l00306"></a>00306 <span class="preprocessor"># Assume we want to set up the MVA MET in some 5_3_X release other than 5_3_7</span>
<a name="l00307"></a>00307 <span class="preprocessor"></span><span class="preprocessor"># If you haven&#39;t already - create the project area</span>
<a name="l00308"></a>00308 <span class="preprocessor"></span>scramv1 project CMSSW_5_3_X; cd CMSSW_5_3_X/src
<a name="l00309"></a>00309 <span class="preprocessor"># This will initialise git and create the local branch from-CMSSW_5_3_X</span>
<a name="l00310"></a>00310 <span class="preprocessor"></span><span class="preprocessor"># We&#39;ll assume that this is the branch you want to add the MVA MET to.</span>
<a name="l00311"></a>00311 <span class="preprocessor"></span>git-cms-addpkg FWCore/Version
<a name="l00312"></a>00312 <span class="preprocessor"># Add the ic-cmssw fork of the cmssw repo and fetch its branches</span>
<a name="l00313"></a>00313 <span class="preprocessor"></span>git remote add -f ic-cmssw git@github.com:ajgilbert/cmssw.git
<a name="l00314"></a>00314 <span class="preprocessor"># Create a temporary branch from the 5_3_7 branch containing the MVA MET</span>
<a name="l00315"></a>00315 <span class="preprocessor"></span>git checkout --no-track -b rebase-attempt ic-cmssw/MVAMET-PileupJetID-from-<a class="code" href="_git_and_c_m_s_s_w_8md.html#af2108a2cf9a54eb42b8267b8814d4b37">CMSSW_5_3_7</a>
<a name="l00316"></a>00316 <span class="preprocessor"># This is the command that will do all the work, attempting to rebase the commits</span>
<a name="l00317"></a>00317 <span class="preprocessor"></span><span class="preprocessor"># that add the MVA MET onto your 5_3_X release</span>
<a name="l00318"></a>00318 <span class="preprocessor"></span>git rebase --onto from-CMSSW_5_3_X <a class="code" href="_git_and_c_m_s_s_w_8md.html#af2108a2cf9a54eb42b8267b8814d4b37">CMSSW_5_3_7</a> rebase-attempt
<a name="l00319"></a>00319 <span class="preprocessor"># If there are no merge issues this should complete fine. If you do hit</span>
<a name="l00320"></a>00320 <span class="preprocessor"></span><span class="preprocessor"># issues the rebase will pause, and you will have to fix any merge issues</span>
<a name="l00321"></a>00321 <span class="preprocessor"></span><span class="preprocessor"># by hand, then instruct git to continue the rebase. If in doubt, git status</span>
<a name="l00322"></a>00322 <span class="preprocessor"></span><span class="preprocessor"># should tell you what you need to do.</span>
<a name="l00323"></a>00323 <span class="preprocessor"></span><span class="preprocessor"># Once the rebase is finished, switch back to our target branch</span>
<a name="l00324"></a>00324 <span class="preprocessor"></span>git checkout from-CMSSW_5_3_X
<a name="l00325"></a>00325 <span class="preprocessor"># This should now be a trivial fast-forward merge</span>
<a name="l00326"></a>00326 <span class="preprocessor"></span>git merge rebase-attempt
<a name="l00327"></a>00327 <span class="preprocessor"># All done - we can delete the temporary branch</span>
<a name="l00328"></a>00328 <span class="preprocessor"></span>git branch -d rebase-attempt
<a name="l00329"></a>00329 <span class="preprocessor"># Now update the sparse-checkout file so the modified packages will be visible</span>
<a name="l00330"></a>00330 <span class="preprocessor"></span>git-cms-sparse-checkout CMSSW_X_Y_Z HEAD
<a name="l00331"></a>00331 <span class="preprocessor"># This updates the actual working directory with the new packages</span>
<a name="l00332"></a>00332 <span class="preprocessor"></span>git read-tree -u --reset HEAD
<a name="l00333"></a>00333 <span class="preprocessor"># Optional: if you want to use the lepton-pair input version of the MVA MET, checkout this</span>
<a name="l00334"></a>00334 <span class="preprocessor"></span><span class="preprocessor"># standalone package. Different branches exist for `5_3_X` and `4_2_X` releases. See the</span>
<a name="l00335"></a>00335 <span class="preprocessor"></span><span class="preprocessor"># README on the project page for more information:</span>
<a name="l00336"></a>00336 <span class="preprocessor"></span><span class="preprocessor"># https://github.com/ajgilbert/ICAnalysis-MVAMETPairProducer</span>
<a name="l00337"></a>00337 <span class="preprocessor"></span>git clone git@github.com:ajgilbert/ICAnalysis-MVAMETPairProducer.git ICAnalysis/MVAMETPairProducer
<a name="l00338"></a>00338 ~~~~~~~~~~~~~
<a name="l00339"></a>00339 
<a name="l00340"></a>00340 \todo Document <a class="code" href="_objects_8md.html#a59a691306f9cc62e23cca13fb31aa10a">example</a> python configs <span class="keywordflow">for</span> the MVA MET and pileup jet ID
<a name="l00341"></a>00341 
<a name="l00342"></a>00342 
<a name="l00343"></a>00343 <a class="code" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">Tau</a> Reconstruction and Discrimination {#obs-tau-reco}
<a name="l00344"></a>00344 -----------------------------------------------------
<a name="l00345"></a>00345 Supported <a class="code" href="_objects_8md.html#a0f9b0b4d3921744c6054e9dfd412256c">releases</a>:
<a name="l00346"></a>00346   - `CMSSW_4_2_8_patch7`
<a name="l00347"></a>00347   - `CMSSW_5_3_X`
<a name="l00348"></a>00348   - `CMSSW_7_0_X`
<a name="l00349"></a>00349 
<a name="l00350"></a>00350 Links:
<a name="l00351"></a>00351   - https:<span class="comment">//twiki.cern.ch/twiki/bin/view/CMSPublic/SWGuidePFTauID</span>
<a name="l00352"></a>00352 
<a name="l00353"></a><a class="code" href="_objects_8md.html#aced5f8849993e4ec6ed06012b9889b84">00353</a> Over time many improvements to the tau reconstruction and identification have been developed by the tau POG. The twiki link above is a good reference to the different versions of the tau ID and how to add these to a <a class="code" href="_objects_8md.html#ad989061fc01a5ac002681332d436fb49">release</a> <span class="keyword">using</span> git. The reconstruction and ID used in the legacy HiggsTauTau analysis corresponds to the section *Legacy <a class="code" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">Tau</a> ID (Run I)*. This is now available by <span class="keywordflow">default</span> in <a class="code" href="_objects_8md.html#a0f9b0b4d3921744c6054e9dfd412256c">releases</a> starting from `CMSSW_5_3_12`. For older <a class="code" href="_objects_8md.html#a0f9b0b4d3921744c6054e9dfd412256c">releases</a> the recipe provided on the twiki might cause <a class="code" href="_build_system_8md.html#a72337a3be105bdf177317bcabf5489a2">issues</a> with the merging. It may be safer to identify just the commits that change the `RecoTauTag` <span class="keyword">package </span>and `git cherry-pick` them one-by-one, e.g.
<a name="l00354"></a>00354 
<a name="l00355"></a>00355 ~~~~~~~~~~~~~{.sh}
<a name="l00356"></a>00356 # Get a summary of which commits changed the RecoTauTag package between
<a name="l00357"></a>00357 # the current HEAD and the recommended branch
<a name="l00358"></a>00358 git log --oneline HEAD..cms-tau-pog/CMSSW_5_3_X -- RecoTauTag
<a name="l00359"></a>00359 # Cherry-pick each commit - shouldn&#39;t result in any conflicts
<a name="l00360"></a>00360 git cherry-pick ....
<a name="l00361"></a>00361 git cherry-pick ....
<a name="l00362"></a>00362 git checkout HEAD
<a name="l00363"></a>00363 ~~~~~~~~~~~~~
<a name="l00364"></a>00364 
<a name="l00365"></a>00365 PF Isolation {#obs-pf-iso}
<a name="l00366"></a>00366 --------------------------
<a name="l00367"></a>00367 - `CMSSW_4_2_8_patch7`
<a name="l00368"></a>00368 - `CMSSW_5_3_X`
<a name="l00369"></a>00369 - `CMSSW_7_0_X`
<a name="l00370"></a>00370 
<a name="l00371"></a>00371 The calculation of PF iso-deposits for electrons changed during the `CMSSW_5_3_X` series. In the legacy HiggsTauTau analysis this was updated using a CVS tag on top of the `CMSSW_5_3_7` release. See this git commit for details of the changes:
<a name="l00372"></a>00372 
<a name="l00373"></a>00373   - https:<span class="comment">//github.com/ajgilbert/cmssw/commit/b8bd99295f462f2c049d94d8660fe46fd4f7e5f8</span>
<a name="l00374"></a>00374 
<a name="l00375"></a>00375 This updated version was included after some later `CMSSW_5_3_X` release, so check first if you need to apply it. The change from `CandIsolatorFromDeposits` to `PFCandIsolatorFromDeposits` modules for the iso-deposit calculation should be a good indicator.
<a name="l00376"></a>00376 
<a name="l00377"></a>00377 \todo Document example python configs for PF isolation
<a name="l00378"></a>00378 
<a name="l00379"></a>00379 MVA Electron ID {#obs-mva-elec-id}
<a name="l00380"></a>00380 ----------------------------------
<a name="l00381"></a>00381 Supported releases:
<a name="l00382"></a>00382   - `CMSSW_4_2_8_patch7`
<a name="l00383"></a>00383   - `CMSSW_5_3_X`
<a name="l00384"></a>00384   - `CMSSW_7_0_X`
<a name="l00385"></a>00385 
<a name="l00386"></a>00386 The code for the electron ID MVA is contained in the `EgammaAnalysis/ElectronTools` package. In older `CMSSW_5_3_X` series releases this package was not included. For the legacy HiggsTauTau analysis this code was added to the `CMSSW_5_3_7` release using a CVS recipe, but is now most easily obtained by a `git cherry-pick` of this commit:
<a name="l00387"></a>00387 
<a name="l00388"></a>00388   - https:<span class="comment">//github.com/ajgilbert/cmssw/commit/50c18f9a40c3175f0d8d0e3d9b098b561bf067b0</span>
<a name="l00389"></a>00389 
<a name="l00390"></a>00390 \todo Document example python configs for MVA electron ID
<a name="l00391"></a>00391 
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_objects_8md.html">Objects.md</a>      </li>
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->



</body>
</html>
