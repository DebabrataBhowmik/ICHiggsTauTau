<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>Imperial Analysis: Physics Objects</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen2.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 70px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Imperial Analysis
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('physics-objects.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Physics Objects </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#objs-candidate">Candidate </a></li>
<li class="level1"><a href="#objs-pf-candidate">PFCandidate </a></li>
<li class="level1"><a href="#objs-composite">CompositeCandidate </a></li>
<li class="level1"><a href="#objs-electron">Electron </a></li>
<li class="level1"><a href="#objs-muon">Muon </a></li>
<li class="level1"><a href="#objs-photon">Photon </a></li>
<li class="level1"><a href="#objs-tau">Tau </a></li>
<li class="level1"><a href="#objs-met">Missing Tranvserse Energy </a></li>
<li class="level1"><a href="#objs-jet">Jet </a></li>
<li class="level1"><a href="#objs-vertex">Vertex </a></li>
<li class="level1"><a href="#objs-sec-vertex">Secondary Vertex </a></li>
<li class="level1"><a href="#objs-track">Track </a></li>
<li class="level1"><a href="#objs-genparticle">GenParticle </a></li>
<li class="level1"><a href="#objs-genjet">GenJet </a></li>
<li class="level1"><a href="#objs-pu-info">PileupInfo </a></li>
<li class="level1"><a href="#objs-supercluster">SuperCluster </a></li>
<li class="level1"><a href="#objs-trig-path">TriggerPath </a></li>
<li class="level1"><a href="#objs-trig-obj">TriggerObject </a></li>
<li class="level1"><a href="#objs-event-info">EventInfo </a></li>
<li class="level1"><a href="#obs-non-standard">Non-standard Objects </a><ul><li class="level2"><a href="#objs-mva-met">MVA MET / Pileup jet ID </a></li>
<li class="level2"><a href="#obs-tau-reco">Tau Reconstruction and Discrimination </a></li>
<li class="level2"><a href="#obs-pf-iso">PF Isolation </a></li>
<li class="level2"><a href="#obs-mva-elec-id">MVA Electron ID </a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>This page documents:</p>
<ul>
<li>The physics object classes available in the framework</li>
<li>The CMSSW modules used to produce them</li>
<li>Example python configuration for each module</li>
<li>The object properties that are not filled by default in each module</li>
<li>Recipes for non-standard objects and reconstruction</li>
</ul>
<p>Use the contents panel on the right to navigate between objects. Each section provides links to the documentation for the object class in question as well as the producer module. To check the list of properties an object class provides, follow the link to the object page. From this page the documentation for each <code>set_[property]</code> method will contain a link to the source code of the producer module where this method is called.</p>
<p>An example python configuration for each producer module is also given below. All these snippets are extracted from the file: <code>python/default_producers_cfi.py</code>.</p>
<p>The basic configuration for each module is usually the same: the <code>input</code> option takes an <code>edm::InputTag</code> to the input object collection, and the <code>branch</code> option takes a string that will label the branch in the output TTree. Other options typically control the addition of extra object properties that are not filled by default in the module. Reasons for this can vary, but are typically due to one of the following:</p>
<ul>
<li><b>The interface to access the property changes between CMSSW releases, or is not present at all in some subset of releases</b> <br />
 The code to access this property can't be included in the producer, as it would fail to compile in some releases. The solution is often a separate producer for just this property, stored in an independent git repository that can be checked-out as a separate CMSSW package. This repository can then have separate branches for different versions of CMSSW. This separate producer will typically add an <code>edm::ValueMap&lt;T&gt;</code> to the event, where <code>T</code> is the type of the property in question. An option is then provided in the producer to read load this <code>ValueMap</code> and extract the values. There are several examples of this workaround below. These separate producers follow a module naming convention of <code>IC[Object][Property]Calcuator</code>, a CMSSW package convention of <code>ICAnalysis/[Property]Calculator</code> and git repository convention of <code>ICAnalysis-[Property]Calculator</code>.</li>
<li><b>A new method to calculate some property is introduced in a later CMSSW release, but the possibility to use the old method should be maintained.</b> <br />
 If both the new and the old method are supported in all CMSSW versions then one possibility is to just add an option to the main producer to switch between methods. Or, if the new method is only available in later releases, a better way is to create a separate producer in a new package as in the previous example. The old method should also be moved to a separate producer. However this may remain within this package as long as it still compiles in all the supported releases.</li>
<li><b>The property requires several other inputs from the edm::Event</b> <br />
 In this case to allow maximum flexibility the other inputs must also be specified in the module configuration, and the calculation should remain optional to allow for the case where these inputs are not available in some dataset to be processed.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><b>Producer input collections</b>: The majority of the CMSSW producer modules listed below use <code>edm::View</code> objects to access the input collection. This provides a certain amount of flexibility in the actual type of the input collection. An <code>edm::View&lt;T&gt;</code>, where <code>T</code> is some object class, can access an <code>std::vector&lt;T&gt;</code>, an <code>edm::RefVector&lt;T&gt;</code>, or the corresponding collections for some other type <code>U</code> which derives from the type <code>T</code>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><b>Reading ValueMaps</b>: Because of the way references are stored in <code>edm::ValueMap</code> objects these should not be produced using and <code>edm::RefVector&lt;T&gt;</code> collection as input, but rather the original <code>std::vector&lt;T&gt;</code> collection of concrete objects. For example, even if you intend to ntuple-ise a filtered <code>edm::RefVector&lt;GsfElectron&gt;</code> collection, you should still produce the ID and isolation <code>ValueMap</code> objects using the original <code>std::vector&lt;GsfElectron&gt;</code> collection.</dd></dl>
<h1><a class="anchor" id="objs-candidate"></a>
Candidate </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_candidate.html" title="Stores a four-momentum, charge and identifier, and is the base class for most other physics objects...">ic::Candidate</a></li>
<li><b>CMSSW Producer</b>: <a class="el" href="class_i_c_candidate_producer.html" title="See documentation here. ">ICCandidateProducer</a></li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;reco::Candidate&gt;</code></li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_candidate.html" title="Stores a four-momentum, charge and identifier, and is the base class for most other physics objects...">ic::Candidate</a>&gt;</code></li>
</ul>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icCandidateProducer = cms.EDProducer(<span class="stringliteral">&#39;ICCandidateProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;l1EmIsolated&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;l1extraParticles&quot;</span>, <span class="stringliteral">&quot;Isolated&quot;</span>, <span class="stringliteral">&quot;RECO&quot;</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-pf-candidate"></a>
PFCandidate </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_p_f_candidate.html" title="Stores the basic properties of PFCandidates (and PackedCandidates for CMSSW 7_X_Y) ...">ic::PFCandidate</a></li>
<li><b>CMSSW Producers</b>: ICPFProducer, ICPFFromPackedProducer</li>
<li><b>Producer Input</b>: Either a collection compatible with an <code>edm::View&lt;reco::PFCandidate&gt;</code> or an <code>edm::View&lt;pat::PackedCandidate&gt;</code> (the latter only available in CMSSW_7_X_Y series releases)</li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_p_f_candidate.html" title="Stores the basic properties of PFCandidates (and PackedCandidates for CMSSW 7_X_Y) ...">ic::PFCandidate</a>&gt;</code></li>
</ul>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icPFProducer = cms.EDProducer(<span class="stringliteral">&#39;ICPFProducer&#39;</span>,</div><div class="line">  branch              = cms.string(<span class="stringliteral">&quot;pfCandidates&quot;</span>),</div><div class="line">  input               = cms.InputTag(<span class="stringliteral">&quot;particleFlow&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;RECO&quot;</span>),</div><div class="line">  requestTracks       = cms.bool(<span class="keyword">False</span>),</div><div class="line">  requestGsfTracks    = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputUnpackedTracks = cms.InputTag(<span class="stringliteral">&quot;&quot;</span>)</div><div class="line">)</div><div class="line"></div><div class="line">icPFFromPackedProducer = cms.EDProducer(<span class="stringliteral">&#39;ICPFFromPackedProducer&#39;</span>,</div><div class="line">  branch              = cms.string(<span class="stringliteral">&quot;pfCandidates&quot;</span>),</div><div class="line">  input               = cms.InputTag(<span class="stringliteral">&quot;packedPFCandidates&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;PAT&quot;</span>),</div><div class="line">  requestTracks       = cms.bool(<span class="keyword">False</span>),</div><div class="line">  requestGsfTracks    = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputUnpackedTracks = cms.InputTag(<span class="stringliteral">&quot;unpackedTracksAndVertices&quot;</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-composite"></a>
CompositeCandidate </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_composite_candidate.html" title="A candidate built by adding the four-momenta of other candidates. ">ic::CompositeCandidate</a></li>
</ul>
<p>An <a class="el" href="classic_1_1_composite_candidate.html" title="A candidate built by adding the four-momenta of other candidates. ">ic::CompositeCandidate</a> aggregates multiple <a class="el" href="classic_1_1_candidate.html" title="Stores a four-momentum, charge and identifier, and is the base class for most other physics objects...">ic::Candidate</a> (or derived) objects, summing the charge and four-momenta, while maintaining pointers to the original input objects. Due to its transient nature a CMSSW producer is not provided.</p>
<h1><a class="anchor" id="objs-electron"></a>
Electron </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_electron.html" title="This class stores a subset of the reco::GsfElectron properties which are most commonly used in analys...">ic::Electron</a></li>
<li><b>CMSSW Producer</b>: <a class="el" href="class_i_c_electron_producer.html" title="See documentation here. ">ICElectronProducer</a></li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;reco::GsfElectron&gt;</code></li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_electron.html" title="This class stores a subset of the reco::GsfElectron properties which are most commonly used in analys...">ic::Electron</a>&gt;</code></li>
</ul>
<p>The producer takes as input any collection where the objects are, or derive from, <code>reco::GsfElectron</code> objects. This includes <code>pat::Electron</code> collections. There are several <a class="el" href="classic_1_1_electron.html" title="This class stores a subset of the reco::GsfElectron properties which are most commonly used in analys...">ic::Electron</a> properties which are not calculated by default in the producer:</p>
<table class="doxtable">
<tr>
<th align="left">Properties </th><th align="left">Notes  </th></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_electron.html#ad203cee99bc435021a5610c1c1343e9b" title="The ratio of the energy in the 3x3 crystal array centred on the seed over the energy of the complete ...">ic::Electron::r9</a> </td><td align="left">A <code>ValueMap</code> for this variable can be calculated by the external producer <a href="https://github.com/ajgilbert/ICAnalysis-ElectronR9Calculator">ICAnalysis-ElectronR9Calculator</a>. The option <code>inputR9</code> should be set to this <code>ValueMap</code> and the <code>includeR9</code> option should be set to <code>True</code>. </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_electron.html#a5a407fd0c750c194d1bff87f4ecd4af2" title="Calorimeter tower isolation sum. ">ic::Electron::hcal_sum</a> </td><td align="left">The extra inputs required to calculate this variable are not available in the AOD for all CMSSW release series. The method by which the variable is calculated is also expected to change in the <code>CMSSW_7_X_Y</code> series. A <code>ValueMap</code> for this variable can be produced by the <a class="el" href="class_i_c_electron_hcal_depth_calculator.html" title="Produces an edm::ValueMap&lt;float&gt; for the electron HCAL energy depth sum. ">ICElectronHcalDepthCalculator</a> module within this package. The option <code>inputHcalSum</code> should be set to this <code>ValueMap</code> and the option <code>includeHcalSum</code> option set to <code>true</code>. </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_electron.html#a43e9e2310afbda9ea8ab79299aa1ef4f" title="True if electron is matched to a conversion vertex. ">ic::Electron::has_matched_conversion</a> </td><td align="left">In anticipation of the method to calculate this flag changing in future releases the calculation has moved to a separate producer, <a class="el" href="class_i_c_electron_conversion_calculator.html" title="Produces an edm::ValueMap&lt;bool&gt; for the electron conversion-rejection flag. ">ICElectronConversionCalculator</a>, within this package. This calculates a <code>ValueMap</code> which should be specified by the option <code>inputConversionMatches</code> when the <code>includeConversionMatches</code> option is set to <code>True</code>. </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_electron.html#a1f4376f222e8ab767d5d440a92307f6e" title="Transverse impact parameter of the GSF track with the primary vertex. ">ic::Electron::dxy_vertex</a> <br />
 <a class="el" href="classic_1_1_electron.html#a0a652c9cd58c265f8a4b7c9ccec0d52e" title="Longitudinal impact parameter of the GSF track with the primary vertex. ">ic::Electron::dz_vertex</a> </td><td align="left">These must be calculated with respect to a user-specified reco::Vertex. The first vertex in the collection specified by the <code>inputVertices</code> option will be used when <code>includeVertexIP</code> is set to <code>True</code>. </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_electron.html#a428deb35eb06758e1d6e7c204871d78c" title="Transverse impact parameter of the GSF track with the beamspot. ">ic::Electron::dxy_beamspot</a> </td><td align="left">This must be calculated with respect to a user-specified <code>reco::BeamSpot</code>. The beamspot set by the <code>inputBeamspot</code> option will be used when the option <code>includeBeamspotIP</code> is set to <code>True</code>. </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_electron.html#a8692a4a495ffdd816fb97274d4a6a804" title="PF isolation, using all charged particles in a cone with . ">ic::Electron::dr03_pfiso_charged_all</a> <br />
 <a class="el" href="classic_1_1_electron.html#a8437ba764b6b00305424954438854b42" title="PF isolation, using charged hadrons in a cone with . ">ic::Electron::dr03_pfiso_charged</a> <br />
 <a class="el" href="classic_1_1_electron.html#a5864c77886a9a64211985cc97f09739f" title="PF isolation, using neutral hadrons in a cone with . ">ic::Electron::dr03_pfiso_neutral</a> <br />
 <a class="el" href="classic_1_1_electron.html#a33f4253dd9e48ac23b1f3f45827f51c7" title="PF isolation, using photons in a cone with . ">ic::Electron::dr03_pfiso_gamma</a> <br />
 <a class="el" href="classic_1_1_electron.html#a0f43227ac54f85439fd471c83965a1f3" title="PF isolation, using charged pileup in a cone with . ">ic::Electron::dr03_pfiso_pu</a> <br />
 <a class="el" href="classic_1_1_electron.html#a8aaff4b9234d39de907a40611598d915" title="PF isolation, using all charged particles in a cone with . ">ic::Electron::dr04_pfiso_charged_all</a> <br />
 <a class="el" href="classic_1_1_electron.html#afb4faa73960ac3a9b390878ff3f006b2" title="PF isolation, using charged hadrons in a cone with . ">ic::Electron::dr04_pfiso_charged</a> <br />
 <a class="el" href="classic_1_1_electron.html#a798a6c0faeb427ba3656b73a0cdae757" title="PF isolation, using neutral hadrons in a cone with . ">ic::Electron::dr04_pfiso_neutral</a> <br />
 <a class="el" href="classic_1_1_electron.html#a4529d56d0d00cffc406f4f8416345527" title="PF isolation, using photons in a cone with . ">ic::Electron::dr04_pfiso_gamma</a> <br />
 <a class="el" href="classic_1_1_electron.html#a492c9c61daecb56251bfe802033aedb7" title="PF isolation, using charged pileup in a cone with . ">ic::Electron::dr04_pfiso_pu</a> </td><td align="left">These should be calculated on-the-fly in a CMSSW job. Individual analyses may modify the isolation definition, for example changing veto cones. See the section <a class="el" href="physics-objects.html#obs-pf-iso">PF Isolation </a> below for software recipes. Two sets of isolation values may be stored, nominally for isolation cones of sizes \(\Delta R = 0.3\) and \(\Delta R = 0.4\). These are enabled via the options <code>includePFIso03</code> and <code>includePFIso04</code> respectively. The <code>InputTag</code> for each isolation sum <code>ValueMap</code> must be specified in the <code>pfIso03</code> and/or <code>pfIso04</code> PSets as relevant. </td></tr>
</table>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icElectronProducer = cms.EDProducer(<span class="stringliteral">&#39;ICElectronProducer&#39;</span>,</div><div class="line">    branch                    = cms.string(<span class="stringliteral">&quot;electrons&quot;</span>),</div><div class="line">    input                     = cms.InputTag(<span class="stringliteral">&quot;gsfElectrons&quot;</span>),</div><div class="line">    includeR9                 = cms.bool(<span class="keyword">False</span>),</div><div class="line">    inputR9                   = cms.InputTag(<span class="stringliteral">&quot;icElectronR9Calculator&quot;</span>),</div><div class="line">    includeHcalSum            = cms.bool(<span class="keyword">False</span>),</div><div class="line">    inputHcalSum              = cms.InputTag(<span class="stringliteral">&quot;icElectronHcalDepthCalculator&quot;</span>),</div><div class="line">    includeConversionMatches  = cms.bool(<span class="keyword">False</span>),</div><div class="line">    inputConversionMatches    = cms.InputTag(<span class="stringliteral">&quot;icElectronConversionCalculator&quot;</span>),</div><div class="line">    includeVertexIP           = cms.bool(<span class="keyword">False</span>),</div><div class="line">    inputVertices             = cms.InputTag(<span class="stringliteral">&quot;offlinePrimaryVertices&quot;</span>),</div><div class="line">    includeBeamspotIP         = cms.bool(<span class="keyword">False</span>),</div><div class="line">    inputBeamspot             = cms.InputTag(<span class="stringliteral">&quot;offlineBeamSpot&quot;</span>),</div><div class="line">    includeFloats = cms.PSet(</div><div class="line">      <span class="comment"># A named list of InputTags identifying edm::ValueMap&lt;float&gt;</span></div><div class="line">      <span class="comment"># objects keyed on the input GsfElectron collection. The hash</span></div><div class="line">      <span class="comment"># of the name and the float value will be stored. For example:</span></div><div class="line">      <span class="comment">#   mvaNonTrigV0    = cms.InputTag(&quot;mvaNonTrigV0&quot;)</span></div><div class="line">    ),</div><div class="line">    includePFIso03           = cms.bool(<span class="keyword">False</span>),</div><div class="line">    pfIso03 = cms.PSet(</div><div class="line">      chargedAll  = cms.InputTag(<span class="stringliteral">&quot;elPFIsoValueChargedAll03PFIdPFIso&quot;</span>),</div><div class="line">      charged     = cms.InputTag(<span class="stringliteral">&quot;elPFIsoValueCharged03PFIdPFIso&quot;</span>),</div><div class="line">      neutral     = cms.InputTag(<span class="stringliteral">&quot;elPFIsoValueNeutral03PFIdPFIso&quot;</span>),</div><div class="line">      gamma       = cms.InputTag(<span class="stringliteral">&quot;elPFIsoValueGamma03PFIdPFIso&quot;</span>),</div><div class="line">      pu          = cms.InputTag(<span class="stringliteral">&quot;elPFIsoValuePU03PFIdPFIso&quot;</span>)</div><div class="line">    ),</div><div class="line">    includePFIso04           = cms.bool(<span class="keyword">False</span>),</div><div class="line">    pfIso04 = cms.PSet(</div><div class="line">      chargedAll  = cms.InputTag(<span class="stringliteral">&quot;elPFIsoValueChargedAll04PFIdPFIso&quot;</span>),</div><div class="line">      charged     = cms.InputTag(<span class="stringliteral">&quot;elPFIsoValueCharged04PFIdPFIso&quot;</span>),</div><div class="line">      neutral     = cms.InputTag(<span class="stringliteral">&quot;elPFIsoValueNeutral04PFIdPFIso&quot;</span>),</div><div class="line">      gamma       = cms.InputTag(<span class="stringliteral">&quot;elPFIsoValueGamma04PFIdPFIso&quot;</span>),</div><div class="line">      pu          = cms.InputTag(<span class="stringliteral">&quot;elPFIsoValuePU04PFIdPFIso&quot;</span>)</div><div class="line">    ),</div><div class="line">   includeClusterIso       = cms.bool(<span class="keyword">False</span>),</div><div class="line">   clusterIso = cms.PSet(</div><div class="line">     ecal        = cms.InputTag(<span class="stringliteral">&quot;elEcalPFClusterIso&quot;</span>),</div><div class="line">     hcal        = cms.InputTag(<span class="stringliteral">&quot;elHcalPFClusterIso&quot;</span>)</div><div class="line">   )   </div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-muon"></a>
Muon </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_muon.html" title="This class stores a subset of the reco::Muon properties which are most commonly used in analysis...">ic::Muon</a></li>
<li><b>CMSSW Producer</b>: <a class="el" href="class_i_c_muon_producer.html" title="See documentation here. ">ICMuonProducer</a></li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;reco::Muon&gt;</code> or an <code>edm::View&lt;reco::PFCandidate&gt;</code>, but see below for details</li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_muon.html" title="This class stores a subset of the reco::Muon properties which are most commonly used in analysis...">ic::Muon</a>&gt;</code></li>
</ul>
<p>The producer operates in one of two modes, controlled by the option <code>isPF</code>. When set to <code>False</code>, the input collection should contain <code>reco::Muon</code> (or derived) objects. This includes <code>pat::Muon</code> collections. When set to <code>True</code>, the input should be a collection of <code>reco::PFCandidate</code> objects that are identified as PF muons. There are several <a class="el" href="classic_1_1_muon.html" title="This class stores a subset of the reco::Muon properties which are most commonly used in analysis...">ic::Muon</a> properties which are not calculated by default in the producer:</p>
<table class="doxtable">
<tr>
<th align="left">Properties </th><th align="left">Notes  </th></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_muon.html#a2524383fa4fcc4afbb594b36a3fd0ebd" title="Transverse impact parameter of the tracker track with the primary vertex. ">ic::Muon::dxy_vertex</a> <br />
 <a class="el" href="classic_1_1_muon.html#aa5798ee272e4ceac5e9580d599750572" title="Longitudinal impact parameter of the tracker track with primary vertex. ">ic::Muon::dz_vertex</a> </td><td align="left">These must be calculated with respect to a user-specified reco::Vertex. The first vertex in the collection specified by the <code>inputVertices</code> option will be used when <code>includeVertexIP</code> is set to <code>True</code>. </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_muon.html#a259738c4cf69d48c2a5e5a5ef1bb0b04" title="Transverse impact parameter of the tracker track with the beamspot. ">ic::Muon::dxy_beamspot</a> </td><td align="left">This must be calculated with respect to a user-specified <code>reco::BeamSpot</code>. The beamspot set by the <code>inputBeamspot</code> option will be used when the option <code>includeBeamspotIP</code> is set to <code>True</code>. </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_muon.html#abdbfd36cea45d0c1216803cc3114c736" title="PF isolation, using all charged particles in a cone with . ">ic::Muon::dr03_pfiso_charged_all</a> <br />
 <a class="el" href="classic_1_1_muon.html#a8d8c7dceae3473079478ffff74822518" title="PF isolation, using charged hadrons in a cone with . ">ic::Muon::dr03_pfiso_charged</a> <br />
 <a class="el" href="classic_1_1_muon.html#a536fafa152eafed70242697484a66809" title="PF isolation, using neutral hadrons in a cone with . ">ic::Muon::dr03_pfiso_neutral</a> <br />
 <a class="el" href="classic_1_1_muon.html#a57b566ba94f7d66cc765ff501f9bd5ba" title="PF isolation, using photons in a cone with . ">ic::Muon::dr03_pfiso_gamma</a> <br />
 <a class="el" href="classic_1_1_muon.html#a8265d184ffa4cc60e80b801fd5bdbe10" title="PF isolation, using charged pileup in a cone with . ">ic::Muon::dr03_pfiso_pu</a> <br />
 <a class="el" href="classic_1_1_muon.html#a8a7c088bed372e071a40c49d77908921" title="PF isolation, using all charged particles in a cone with . ">ic::Muon::dr04_pfiso_charged_all</a> <br />
 <a class="el" href="classic_1_1_muon.html#aac711a07a911e38e3c47669a33e0de34" title="PF isolation, using charged hadrons in a cone with . ">ic::Muon::dr04_pfiso_charged</a> <br />
 <a class="el" href="classic_1_1_muon.html#a6a4498dd2c3da37c07719757bed502f1" title="PF isolation, using neutral hadrons in a cone with . ">ic::Muon::dr04_pfiso_neutral</a> <br />
 <a class="el" href="classic_1_1_muon.html#ac4ab055494423b7b4d9cf141e5c76280" title="PF isolation, using photons in a cone with . ">ic::Muon::dr04_pfiso_gamma</a> <br />
 <a class="el" href="classic_1_1_muon.html#a3e757f76362d9a63227dd14a12dab780" title="PF isolation, using charged pileup in a cone with . ">ic::Muon::dr04_pfiso_pu</a> </td><td align="left">These should be calculated on-the-fly in a CMSSW job. Individual analyses may modify the isolation definition, for example changing veto cones. See the section <a class="el" href="physics-objects.html#obs-pf-iso">PF Isolation </a> below for software recipes. Two sets of isolation values may be stored, nominally for isolation cones of sizes \(\Delta R = 0.3\) and \(\Delta R = 0.4\). These are enabled via the options <code>includePFIso03</code> and <code>includePFIso04</code> respectively. The <code>InputTag</code> for each isolation sum <code>ValueMap</code> must be specified in the <code>pfIso03</code> and/or <code>pfIso04</code> PSets as relevant. </td></tr>
</table>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icMuonProducer = cms.EDProducer(<span class="stringliteral">&#39;ICMuonProducer&#39;</span>,</div><div class="line">    branch                    = cms.string(<span class="stringliteral">&quot;muons&quot;</span>),</div><div class="line">    input                     = cms.InputTag(<span class="stringliteral">&quot;muons&quot;</span>),</div><div class="line">    isPF                      = cms.bool(<span class="keyword">False</span>),</div><div class="line">    includeVertexIP           = cms.bool(<span class="keyword">False</span>),</div><div class="line">    inputVertices             = cms.InputTag(<span class="stringliteral">&quot;offlinePrimaryVertices&quot;</span>),</div><div class="line">    includeBeamspotIP         = cms.bool(<span class="keyword">False</span>),</div><div class="line">    inputBeamspot             = cms.InputTag(<span class="stringliteral">&quot;offlineBeamSpot&quot;</span>),</div><div class="line">    includeFloats = cms.PSet(</div><div class="line">      <span class="comment"># A named list of InputTags identifying edm::ValueMap&lt;float&gt;</span></div><div class="line">      <span class="comment"># objects keyed on the input collection objects. The hash</span></div><div class="line">      <span class="comment"># of the name and the float value will be stored.</span></div><div class="line">    ),</div><div class="line">    includeDoubles = cms.PSet(</div><div class="line">      <span class="comment"># A named list of InputTags identifying edm::ValueMap&lt;double&gt;</span></div><div class="line">      <span class="comment"># objects keyed on the input collection objects. The hash</span></div><div class="line">      <span class="comment"># of the name and the double value (cast as float) will be stored.</span></div><div class="line">    ),</div><div class="line">    includePFIso03           = cms.bool(<span class="keyword">False</span>),</div><div class="line">    pfIso03 = cms.PSet(</div><div class="line">      chargedAll  = cms.InputTag(<span class="stringliteral">&quot;muPFIsoValueChargedAll03PFIso&quot;</span>),</div><div class="line">      charged     = cms.InputTag(<span class="stringliteral">&quot;muPFIsoValueCharged03PFIso&quot;</span>),</div><div class="line">      neutral     = cms.InputTag(<span class="stringliteral">&quot;muPFIsoValueNeutral03PFIso&quot;</span>),</div><div class="line">      gamma       = cms.InputTag(<span class="stringliteral">&quot;muPFIsoValueGamma03PFIso&quot;</span>),</div><div class="line">      pu          = cms.InputTag(<span class="stringliteral">&quot;muPFIsoValuePU03PFIso&quot;</span>)</div><div class="line">    ),</div><div class="line">    includePFIso04           = cms.bool(<span class="keyword">False</span>),</div><div class="line">    pfIso04 = cms.PSet(</div><div class="line">      chargedAll  = cms.InputTag(<span class="stringliteral">&quot;muPFIsoValueChargedAll04PFIso&quot;</span>),</div><div class="line">      charged     = cms.InputTag(<span class="stringliteral">&quot;muPFIsoValueCharged04PFIso&quot;</span>),</div><div class="line">      neutral     = cms.InputTag(<span class="stringliteral">&quot;muPFIsoValueNeutral04PFIso&quot;</span>),</div><div class="line">      gamma       = cms.InputTag(<span class="stringliteral">&quot;muPFIsoValueGamma04PFIso&quot;</span>),</div><div class="line">      pu          = cms.InputTag(<span class="stringliteral">&quot;muPFIsoValuePU04PFIso&quot;</span>)</div><div class="line">    )</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-photon"></a>
Photon </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_photon.html" title="This class stores a subset of the reco::Photon properties which are most commonly used in analysis...">ic::Photon</a></li>
<li><b>CMSSW Producer</b>: <a class="el" href="class_i_c_photon_producer.html" title="See documentation here. ">ICPhotonProducer</a></li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;reco::Photon&gt;</code></li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_photon.html" title="This class stores a subset of the reco::Photon properties which are most commonly used in analysis...">ic::Photon</a>&gt;</code></li>
</ul>
<p>The producer takes as input a collection of <code>reco::Photon</code> objects. The following <a class="el" href="classic_1_1_photon.html" title="This class stores a subset of the reco::Photon properties which are most commonly used in analysis...">ic::Photon</a> properties are not calculated by default:</p>
<table class="doxtable">
<tr>
<th align="left">Properties </th><th align="left">Notes  </th></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_photon.html#a852d3a533bd288279d1f417d882748a7" title="True if photon passes the electron veto. ">ic::Photon::pass_electron_veto</a> </td><td align="left">This flag is calculated by a separate producer in this package: <a class="el" href="class_i_c_photon_electron_veto_calculator.html" title="Produces an edm::ValueMap&lt;bool&gt; for the photon electron-veto flag. ">ICPhotonElectronVetoCalculator</a> </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_photon.html#a41eaecf22d009d34705ba4f8a11e911a" title="Hadronic over electromagnetic energy fraction. ">ic::Photon::had_tower_over_em</a> </td><td align="left">This is calculated by an external producer available in the <a href="https://github.com/ajgilbert/ICAnalysis-PhotonHadTowerOverEmCalculator">ICAnalysis-PhotonHadTowerOverEmCalculator</a> repository. </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_photon.html#a2f83733c4bbe0a20519d6abd9c4315a9" title="PF isolation, using charged hadrons in a cone with . ">ic::Photon::dr03_pfiso_charged</a> <br />
 <a class="el" href="classic_1_1_photon.html#adf4023fa2d5905289275784fdb931a25" title="PF isolation, using neutral hadrons in a cone with . ">ic::Photon::dr03_pfiso_neutral</a> <br />
 <a class="el" href="classic_1_1_photon.html#abef17fb19ed627462121d36d3fcec1c7" title="PF isolation, using photons in a cone with . ">ic::Photon::dr03_pfiso_gamma</a> </td><td align="left">As for Electron and Muon production the isolation values will be extracted from the specified <code>ValueMap</code> inputs. </td></tr>
</table>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icPhotonProducer = cms.EDProducer(<span class="stringliteral">&#39;ICPhotonProducer&#39;</span>,</div><div class="line">    branch                  = cms.string(<span class="stringliteral">&quot;photons&quot;</span>),</div><div class="line">    input                   = cms.InputTag(<span class="stringliteral">&quot;photons&quot;</span>),</div><div class="line">    includeElectronVeto     = cms.bool(<span class="keyword">False</span>),</div><div class="line">    inputElectronVeto       = cms.InputTag(<span class="stringliteral">&quot;icPhotonElectronVetoCalculator&quot;</span>),</div><div class="line">    includeHadTowOverEm     = cms.bool(<span class="keyword">False</span>),</div><div class="line">    includePFIso03           = cms.bool(<span class="keyword">False</span>),</div><div class="line">    pfIso03 = cms.PSet(</div><div class="line">      chargedAll  = cms.InputTag(<span class="stringliteral">&quot;phPFIsoValueChargedAll03PFIso&quot;</span>),</div><div class="line">      charged     = cms.InputTag(<span class="stringliteral">&quot;phPFIsoValueCharged03PFIso&quot;</span>),</div><div class="line">      neutral     = cms.InputTag(<span class="stringliteral">&quot;phPFIsoValueNeutral03PFIso&quot;</span>),</div><div class="line">      gamma       = cms.InputTag(<span class="stringliteral">&quot;phPFIsoValueGamma03PFIso&quot;</span>),</div><div class="line">      pu          = cms.InputTag(<span class="stringliteral">&quot;phPFIsoValuePU03PFIso&quot;</span>)</div><div class="line">    ),</div><div class="line">    includePFIso04           = cms.bool(<span class="keyword">False</span>),</div><div class="line">    pfIso04 = cms.PSet(</div><div class="line">      chargedAll  = cms.InputTag(<span class="stringliteral">&quot;phPFIsoValueChargedAll04PFIso&quot;</span>),</div><div class="line">      charged     = cms.InputTag(<span class="stringliteral">&quot;phPFIsoValueCharged04PFIso&quot;</span>),</div><div class="line">      neutral     = cms.InputTag(<span class="stringliteral">&quot;phPFIsoValueNeutral04PFIso&quot;</span>),</div><div class="line">      gamma       = cms.InputTag(<span class="stringliteral">&quot;phPFIsoValueGamma04PFIso&quot;</span>),</div><div class="line">      pu          = cms.InputTag(<span class="stringliteral">&quot;phPFIsoValuePU04PFIso&quot;</span>)</div><div class="line">    ),</div><div class="line">    includeIsoFromPat = cms.bool(<span class="keyword">False</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-tau"></a>
Tau </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">ic::Tau</a></li>
<li><b>CMSSW Producer</b>: <a class="el" href="class_i_c_tau_producer.html" title="See documentation here. ">ICTauProducer</a></li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;reco::PFTau&gt;</code> or an <code>edm::View&lt;pat::Tau&gt;</code>, but see below</li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">ic::Tau</a>&gt;</code></li>
<li><b>Producer Requests</b>: Can request the <code>reco::Track</code> objects from the charged PF constituents. The request will be produced with the label <code>requestedTracks</code>.</li>
</ul>
<p>The producer is a template class on the type of the input objects. Two specific template instances are defined as CMSSW modules: one for <code>reco::PFTau</code> input (ICPFTauProducer) and the other for <code>pat::Tau</code> input (ICPFTauFromPatProducer). The main difference between the two is that the user must specify the list of discriminators to extract from the <code>edm::Event</code> in the <code>reco::PFTau</code> case, whereas in the <code>pat::Tau</code> case these are extracted directly from the input object.</p>
<p>The following <a class="el" href="classic_1_1_tau.html" title="This class stores a subset of the reco::PFTau properties which are most commonly used in analysis...">ic::Tau</a> properties are not calculated by default:</p>
<table class="doxtable">
<tr>
<th align="left">Properties </th><th align="left">Notes  </th></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_tau.html#a31bcb0550339593c4f0f3b29623399cd" title="Transverse impact parameter of the leading charged constituent track with the primary vertex...">ic::Tau::lead_dxy_vertex</a> <br />
 <a class="el" href="classic_1_1_tau.html#a802a64e17a9e23a1bdefc169c1d14622" title="Longitudinal impact parameter of the leading charged constituent track with the primary vertex...">ic::Tau::lead_dz_vertex</a> </td><td align="left">These must be calculated with respect to a user-specified reco::Vertex. The first vertex in the collection specified by the <code>inputVertices</code> option will be used when <code>includeVertexIP</code> is set to <code>True</code>. </td></tr>
</table>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icTauProducer = cms.EDProducer(<span class="stringliteral">&quot;ICPFTauProducer&quot;</span>,</div><div class="line">  branch                  = cms.string(<span class="stringliteral">&quot;taus&quot;</span>),</div><div class="line">  input                   = cms.InputTag(<span class="stringliteral">&quot;hpsPFTauProducer&quot;</span>),</div><div class="line">  inputVertices           = cms.InputTag(<span class="stringliteral">&quot;offlinePrimaryVertices&quot;</span>),</div><div class="line">  includeVertexIP         = cms.bool(<span class="keyword">False</span>),</div><div class="line">  requestTracks           = cms.bool(<span class="keyword">False</span>),</div><div class="line">  includeTotalCharged     = cms.bool(<span class="keyword">False</span>),</div><div class="line">  totalChargedLabel       = cms.string(<span class="stringliteral">&#39;totalCharged&#39;</span>),</div><div class="line">  tauIDs = cms.PSet(</div><div class="line">    <span class="comment"># Add a list of discriminators that should be loaded from the edm::Event.</span></div><div class="line">    <span class="comment"># Each discriminator will be stored as a float and associated to the hash</span></div><div class="line">    <span class="comment"># of the label string given here (e.g. &quot;decayModeFinding&quot; below). Some TauID</span></div><div class="line">    <span class="comment"># PSets have been defined in python/tau_discriminators_cfi.py, and these follow</span></div><div class="line">    <span class="comment"># the labelling convention used in the default PAT sequences.</span></div><div class="line">    <span class="comment"># Note that if the ICPFTauFromPatProducer is used this list will be ignored.</span></div><div class="line">    <span class="comment">#</span></div><div class="line">    <span class="comment"># decayModeFinding = cms.InputTag(&quot;hpsPFTauDiscriminationByDecayModeFinding&quot;),</span></div><div class="line">    <span class="comment"># etc...</span></div><div class="line">  ),</div><div class="line">  requestPFCandidates   = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputPFCandidates     = cms.InputTag(<span class="stringliteral">&quot;pfCandidates&quot;</span>),</div><div class="line">  isSlimmed             = cms.bool(<span class="keyword">False</span>)</div><div class="line">)</div><div class="line"></div><div class="line">icTauFromPatProducer = cms.EDProducer(<span class="stringliteral">&quot;ICPFTauFromPatProducer&quot;</span>,</div><div class="line">  branch                  = cms.string(<span class="stringliteral">&quot;taus&quot;</span>),</div><div class="line">  input                   = cms.InputTag(<span class="stringliteral">&quot;slimmedTaus&quot;</span>),</div><div class="line">  inputVertices           = cms.InputTag(<span class="stringliteral">&quot;offlineSlimmedPrimaryVertices&quot;</span>),</div><div class="line">  includeVertexIP         = cms.bool(<span class="keyword">False</span>),</div><div class="line">  requestTracks           = cms.bool(<span class="keyword">False</span>),</div><div class="line">  includeTotalCharged     = cms.bool(<span class="keyword">False</span>),</div><div class="line">  totalChargedLabel       = cms.string(<span class="stringliteral">&#39;totalCharged&#39;</span>),</div><div class="line">  tauIDs = cms.PSet(),</div><div class="line">  requestPFCandidates   = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputPFCandidates     = cms.InputTag(<span class="stringliteral">&quot;packedPFCandidates&quot;</span>),</div><div class="line">  isSlimmed             = cms.bool(<span class="keyword">True</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-met"></a>
Missing Tranvserse Energy </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_met.html" title="Stores a missing transverse energy object and the corresponding significance and corrections. ">ic::Met</a></li>
<li><b>CMSSW Producers</b>: <a class="el" href="class_i_c_met_producer.html" title="See documentation here. ">ICMetProducer</a>, <a class="el" href="class_i_c_single_met_producer.html" title="See documentation here. ">ICSingleMetProducer</a></li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;reco::MET&gt;</code></li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_met.html" title="Stores a missing transverse energy object and the corresponding significance and corrections. ">ic::Met</a>&gt;</code> in the <a class="el" href="class_i_c_met_producer.html" title="See documentation here. ">ICMetProducer</a>, and <code><a class="el" href="classic_1_1_met.html" title="Stores a missing transverse energy object and the corresponding significance and corrections. ">ic::Met</a></code> in the <a class="el" href="class_i_c_single_met_producer.html" title="See documentation here. ">ICSingleMetProducer</a></li>
</ul>
<p>Two producers are provided, both of which take a vector of <code>reco::MET</code> (or derived) objects as input. The <a class="el" href="class_i_c_met_producer.html" title="See documentation here. ">ICMetProducer</a> will produce a vector of <code><a class="el" href="classic_1_1_met.html" title="Stores a missing transverse energy object and the corresponding significance and corrections. ">ic::Met</a></code> objects, whereas the <a class="el" href="class_i_c_single_met_producer.html" title="See documentation here. ">ICSingleMetProducer</a> will produce a single <code><a class="el" href="classic_1_1_met.html" title="Stores a missing transverse energy object and the corresponding significance and corrections. ">ic::Met</a></code> object. The <a class="el" href="class_i_c_met_producer.html" title="See documentation here. ">ICMetProducer</a> can optionally read a <code>vector&lt;std::size_t&gt;</code> from the edm::Event that should be aligned with the input <code>vector&lt;reco::MET&gt;</code> and will be used to set the <a class="el" href="classic_1_1_candidate.html#a4a59e8245b1afb6830eab0e00bfadff2" title="Unique identifier. ">ic::Met::id</a> values in the output collection. The main use for this feature is in conjunction with the <a class="el" href="physics-objects.html#objs-mva-met">MVA MET</a> producer where <code>MET</code> objects must be identified by combined hashes of the lepton inputs.</p>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icMetProducer = cms.EDProducer(<span class="stringliteral">&#39;ICPFMetProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;pfMet&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;pfMet&quot;</span>),</div><div class="line">  includeCustomID = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputCustomID = cms.InputTag(<span class="stringliteral">&quot;&quot;</span>),</div><div class="line">  doGenMet = cms.bool(<span class="keyword">False</span>),</div><div class="line">  includeExternalMetsig = cms.bool(<span class="keyword">False</span>),</div><div class="line">  includeExternalMetsigMethod2 = cms.bool(<span class="keyword">False</span>),</div><div class="line">  metsig = cms.PSet(</div><div class="line">    metsig      = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;METSignificance&quot;</span>),</div><div class="line">    metsigcov00 = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;CovarianceMatrix00&quot;</span>),</div><div class="line">    metsigcov01 = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;CovarianceMatrix01&quot;</span>),</div><div class="line">    metsigcov10 = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;CovarianceMatrix10&quot;</span>),</div><div class="line">    metsigcov11 = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;CovarianceMatrix11&quot;</span>)</div><div class="line">    ),</div><div class="line">  metsig_method2 = cms.PSet(</div><div class="line">    metsig      = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;METSignificance&quot;</span>),</div><div class="line">    metsigcov = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;METCovariance&quot;</span>)</div><div class="line">    ),</div><div class="line">  <span class="comment">#includeMetCorrections = cms.bool(False),</span></div><div class="line">  <span class="comment">#metcorrections = cms.vstring(</span></div><div class="line">  <span class="comment">#      &#39;Raw&#39;,&#39;Type1&#39;,&#39;Type01&#39;,&#39;TypeXY&#39;,&#39;Type1XY&#39;,&#39;Type01XY&#39;,&#39;Type1Smear&#39;,&#39;Type01Smear&#39;,&#39;Type1SmearXY&#39;,&#39;Type01SmearXY&#39;,&#39;RawCalo&#39;),</span></div><div class="line">  <span class="comment">#includeMetUncertainties = cms.bool(False),</span></div><div class="line">  <span class="comment">#metuncertainties = cms.vstring(</span></div><div class="line">  <span class="comment">#      &#39;JetResUp&#39;,&#39;JetResDown&#39;,&#39;JetEnUp&#39;,&#39;JetEnDown&#39;,&#39;MuonEnUp&#39;,&#39;MuonEnDown&#39;,&#39;ElectronEnUp&#39;,&#39;ElectronEnDown&#39;,&#39;TauEnUp&#39;,&#39;TauEnDown&#39;,&#39;UnclusteredEnUp&#39;,&#39;UnclusteredEnDown&#39;,&#39;PhotonEnUp&#39;,&#39;PhotonEnDown&#39;,&#39;NoShift&#39;)</span></div><div class="line">)</div><div class="line"></div><div class="line">icMetFromPatProducer = cms.EDProducer(<span class="stringliteral">&#39;ICPFMetFromPatProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;pfMet&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;slimmedMETs&quot;</span>),</div><div class="line">  includeCustomID = cms.bool(<span class="keyword">False</span>),</div><div class="line">  includeUserCandID = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputCustomID = cms.InputTag(<span class="stringliteral">&quot;&quot;</span>),</div><div class="line">  doGenMet = cms.bool(<span class="keyword">False</span>),</div><div class="line">  includeExternalMetsig = cms.bool(<span class="keyword">False</span>),</div><div class="line">  includeExternalMetsigMethod2 = cms.bool(<span class="keyword">False</span>),</div><div class="line">  getUncorrectedMet = cms.bool(<span class="keyword">False</span>),</div><div class="line">  metsig = cms.PSet(</div><div class="line">    metsig      = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;METSignificance&quot;</span>),</div><div class="line">    metsigcov00 = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;CovarianceMatrix00&quot;</span>),</div><div class="line">    metsigcov01 = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;CovarianceMatrix01&quot;</span>),</div><div class="line">    metsigcov10 = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;CovarianceMatrix10&quot;</span>),</div><div class="line">    metsigcov11 = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;CovarianceMatrix11&quot;</span>)</div><div class="line">    ),</div><div class="line">  metsig_method2 = cms.PSet(</div><div class="line">    metsig      = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;METSignificance&quot;</span>),</div><div class="line">    metsigcov = cms.InputTag(<span class="stringliteral">&quot;METSignificance&quot;</span>,<span class="stringliteral">&quot;METCovariance&quot;</span>)</div><div class="line">    ),</div><div class="line">  includeMetCorrections = cms.bool(<span class="keyword">False</span>),</div><div class="line">  metcorrections = cms.vstring(</div><div class="line">        <span class="stringliteral">&#39;Raw&#39;</span>,<span class="stringliteral">&#39;Type1&#39;</span>,<span class="stringliteral">&#39;Type01&#39;</span>,<span class="stringliteral">&#39;TypeXY&#39;</span>,<span class="stringliteral">&#39;Type1XY&#39;</span>,<span class="stringliteral">&#39;Type01XY&#39;</span>,<span class="stringliteral">&#39;Type1Smear&#39;</span>,<span class="stringliteral">&#39;Type01Smear&#39;</span>,<span class="stringliteral">&#39;Type1SmearXY&#39;</span>,<span class="stringliteral">&#39;Type01SmearXY&#39;</span>,<span class="stringliteral">&#39;RawCalo&#39;</span>),</div><div class="line">  includeMetUncertainties = cms.bool(<span class="keyword">False</span>),</div><div class="line">  metuncertainties = cms.vstring(</div><div class="line">        <span class="stringliteral">&#39;JetResUp&#39;</span>,<span class="stringliteral">&#39;JetResDown&#39;</span>,<span class="stringliteral">&#39;JetEnUp&#39;</span>,<span class="stringliteral">&#39;JetEnDown&#39;</span>,<span class="stringliteral">&#39;MuonEnUp&#39;</span>,<span class="stringliteral">&#39;MuonEnDown&#39;</span>,<span class="stringliteral">&#39;ElectronEnUp&#39;</span>,<span class="stringliteral">&#39;ElectronEnDown&#39;</span>,<span class="stringliteral">&#39;TauEnUp&#39;</span>,<span class="stringliteral">&#39;TauEnDown&#39;</span>,<span class="stringliteral">&#39;UnclusteredEnUp&#39;</span>,<span class="stringliteral">&#39;UnclusteredEnDown&#39;</span>,<span class="stringliteral">&#39;PhotonEnUp&#39;</span>,<span class="stringliteral">&#39;PhotonEnDown&#39;</span>,<span class="stringliteral">&#39;NoShift&#39;</span>)</div><div class="line">)</div><div class="line"></div></div><!-- fragment --> <div class="fragment"><div class="line">icSingleMetProducer = cms.EDProducer(<span class="stringliteral">&#39;ICSingleMetProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;genMet&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;genMetTrue&quot;</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-jet"></a>
Jet </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_jet.html" title="A basic jet class to store properties common to all jet types. ">ic::Jet</a>, <a class="el" href="classic_1_1_calo_jet.html" title="Derived from the ic::Jet class and adding information specific to calorimeter jets. ">ic::CaloJet</a>, <a class="el" href="classic_1_1_j_p_t_jet.html" title="A class derived from ic::Jet which adds Jet-plus-track specific information. ">ic::JPTJet</a>, <a class="el" href="classic_1_1_p_f_jet.html" title="A class deriving from ic::Jet that provides specific information for particle-flow jets...">ic::PFJet</a></li>
<li><b>CMSSW Producers</b>: <a class="el" href="class_i_c_jet_producer.html" title="See documentation here. ">ICJetProducer</a> (see below for template instantiations)</li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;reco::Jet&gt;</code> or <code>edm::View&lt;pat::Jet&gt;</code> (see below for details)</li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_jet.html" title="A basic jet class to store properties common to all jet types. ">ic::Jet</a>&gt;</code>, <code>std::vector&lt;<a class="el" href="classic_1_1_calo_jet.html" title="Derived from the ic::Jet class and adding information specific to calorimeter jets. ">ic::CaloJet</a>&gt;</code>, <code>std::vector&lt;<a class="el" href="classic_1_1_j_p_t_jet.html" title="A class derived from ic::Jet which adds Jet-plus-track specific information. ">ic::JPTJet</a>&gt;</code>, <code>std::vector&lt;<a class="el" href="classic_1_1_p_f_jet.html" title="A class deriving from ic::Jet that provides specific information for particle-flow jets...">ic::PFJet</a>&gt;</code></li>
<li><b>Producer Requests</b>:<ul>
<li>Can request the <code>reco::Track</code> objects for the charged constituents of PFJet or JPTJet inputs. The request will be produced with the label <code>requestedTracks</code>.</li>
<li>Can request the <code>reco::SecondaryVertexTagInfo</code> objects associated to the jets, which will be produced with the label <code>requestedSVInfo</code>.</li>
</ul>
</li>
</ul>
<p>The ic::JetProducer is a template class that is specialised for both the input and output jet types. While making the code more complex, this avoids a large amount of duplication that would result for have a normal producer for each possible input-output pairing. The possible CMSSW producers are defined <a class="el" href="_i_c_jet_producer_8cc.html#JetProducers">here</a>.</p>
<p>Each choice of input and output type brings with it the need for a specific set of options. This is addressed through two helper structs, the <a class="el" href="struct_jet_src_helper.html" title="A struct to help with the configuration of the ICJetProducer, in particular the aspects that depend o...">JetSrcHelper</a> which is templated only on the input type, and the <a class="el" href="struct_jet_dest_helper.html">JetDestHelper</a> which is templated only on the output type. Please see the documentation pages of these structs for further details.</p>
<p>An important distinction to make between using a reco::Jet and a pat::Jet as input is the treatment of the jet energy corrections. This module assumes a reco::Jet collection as input is uncorrected. The <a class="el" href="struct_jet_src_helper.html" title="A struct to help with the configuration of the ICJetProducer, in particular the aspects that depend o...">JetSrcHelper</a> in this case provides extra options to specify the list of corrections to apply and an optional cut string that may be applied after the input jet is corrected and before a corresponding <a class="el" href="classic_1_1_jet.html" title="A basic jet class to store properties common to all jet types. ">ic::Jet</a> is produced.</p>
<p>The following properties are not calculated by default: </p><table class="doxtable">
<tr>
<th align="left">Properties </th><th align="left">Notes  </th></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_jet.html#ac605aa4878501f39be97f3d2c64a4e5f" title="An algorithmic determination of the true flavour of the jet, e.g. gluon, light, c or b quark...">ic::Jet::parton_flavour</a> </td><td align="left"><em>For reco::Jet input producers only</em>: The MC truth jet flavour (as a PDG ID). The method by which this is calculated is expected to change for 2015 data analyses. In anticipation, the calculation has moved to a separate producer: <a class="el" href="class_i_c_jet_flavour_calculator.html">ICJetFlavourCalculator</a>, within this package. This calculates a <code>ValueMap</code> which should be specified by the option <code>inputJetFlavour</code> when the <code>includeJetFlavour</code> option is set to <code>True</code>. </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_p_f_jet.html#ab76207e03dff2a67593ab6df3dd78509" title="The output of the pileup ID MVA. ">ic::PFJet::pu_id_mva_value</a> </td><td align="left"><em>For <a class="el" href="classic_1_1_p_f_jet.html" title="A class deriving from ic::Jet that provides specific information for particle-flow jets...">ic::PFJet</a> output producers only</em>: See the section <a class="el" href="physics-objects.html#objs-mva-met">below</a> for details on producing a pileup jet MVA <code>ValueMap</code>. This should be specified by the option <code>inputPileupID</code> when the <code>icludePileupID</code> option is set to <code>True</code>. </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_p_f_jet.html#ae48b0dd69abdaa4d21bdc1b8f8877153" title="The fraction of the constituent track momentum associated to the primary vertex. ">ic::PFJet::beta</a> <br />
 <a class="el" href="classic_1_1_p_f_jet.html#af4a61972a3772f1b9a42de705fd5d7db" title="The largest value of beta() obtained when it is evaluated for every vertex in the event...">ic::PFJet::beta_max</a> <br />
 <a class="el" href="classic_1_1_p_f_jet.html#adb1af0087eac9a614b5f7c2cde5100a4" title="Used for quark-gluon discrimination. ">ic::PFJet::linear_radial_moment</a> <br />
 <a class="el" href="classic_1_1_p_f_jet.html#a47418ea581e9d0d8dc37bcd8c0beaab5" title="The number of charged constituents associated to the PV. ">ic::PFJet::charged_multiplicity_nopu</a> </td><td align="left"><em>For <a class="el" href="classic_1_1_p_f_jet.html" title="A class deriving from ic::Jet that provides specific information for particle-flow jets...">ic::PFJet</a> output producers only:</em> These variables are only calculated when <code>includeTrackBasedVars</code> is set to <code>True</code> and both the <code>inputTracks</code> and <code>inputVertices</code> collections are defined. </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_j_p_t_jet.html#a297bcdcda4b3773db678f460a272d278" title="The fraction of the constituent track momentum associated to the primary vertex. ">ic::JPTJet::beta</a> <br />
 <a class="el" href="classic_1_1_j_p_t_jet.html#a1223e8013f89d8028c2c308ae56ecf77" title="The largest value of beta() obtained when it is evaluated for every vertex in the event...">ic::JPTJet::beta_max</a> <br />
 <a class="el" href="classic_1_1_j_p_t_jet.html#a25de4c49c2f81a075af2e600b5c35096" title="The scalar sum of track . ">ic::JPTJet::track_pt_total</a> </td><td align="left"><em>For <a class="el" href="classic_1_1_j_p_t_jet.html" title="A class derived from ic::Jet which adds Jet-plus-track specific information. ">ic::JPTJet</a> output producers only:</em> These variables are only calculated when <code>includeTrackBasedVars</code> is set to <code>True</code> and both the <code>inputTracks</code> and <code>inputVertices</code> collections are defined. </td></tr>
<tr>
<td align="left"><a class="el" href="classic_1_1_calo_jet.html#adac52be0380a617b7a4ffd35414a6f27" title="Fraction of energy carried by the &quot;hottest&quot; HPD (hybrid photodiode) ">ic::CaloJet::fHPD</a> <br />
 <a class="el" href="classic_1_1_calo_jet.html#a0ec060bc889c100ff1d8e3fc66d3a1aa" title="Fraction of energy carried by the &quot;hottest&quot; RBX (readout box) ">ic::CaloJet::fRBX</a> <br />
 <a class="el" href="classic_1_1_calo_jet.html#a571d3c00a53eed3bff53aea6d7e760f9" title="Flag indicates if the jet passes the loose ID. ">ic::CaloJet::id_loose</a> <br />
 <a class="el" href="classic_1_1_calo_jet.html#a41ce812ece18fdf3773af87b9b901912" title="Flag indicates if the jet passes the tight ID. ">ic::CaloJet::id_tight</a> </td><td align="left"><em>For <a class="el" href="classic_1_1_calo_jet.html" title="Derived from the ic::Jet class and adding information specific to calorimeter jets. ">ic::CaloJet</a> and <a class="el" href="classic_1_1_j_p_t_jet.html" title="A class derived from ic::Jet which adds Jet-plus-track specific information. ">ic::JPTJet</a> output producers only:</em> Requires an external <code>reco::JetID</code> map. Set <code>inputJetID</code> to the label of this map and set <code>includeJetID</code> to <code>True</code>. </td></tr>
</table>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"></div><div class="line">icPFJetProducer = cms.EDProducer(<span class="stringliteral">&#39;ICPFJetProducer&#39;</span>,</div><div class="line">    branch                    = cms.string(<span class="stringliteral">&quot;pfJets&quot;</span>),</div><div class="line">    input                     = cms.InputTag(<span class="stringliteral">&quot;ak5PFJets&quot;</span>),</div><div class="line">    </div><div class="line">    srcConfig = cms.PSet(</div><div class="line">      includeJetFlavour         = cms.bool(<span class="keyword">False</span>),</div><div class="line">      inputJetFlavour           = cms.InputTag(<span class="stringliteral">&quot;icPFJetFlavourCalculator&quot;</span>),</div><div class="line">      </div><div class="line">      applyJECs                 = cms.bool(<span class="keyword">False</span>),</div><div class="line">      </div><div class="line">      includeJECs               = cms.bool(<span class="keyword">False</span>),</div><div class="line">      JECs                      = cms.PSet(</div><div class="line">        </div><div class="line">      ),</div><div class="line">      </div><div class="line">      applyCutAfterJECs         = cms.bool(<span class="keyword">False</span>),</div><div class="line">      cutAfterJECs              = cms.string(<span class="stringliteral">&quot;&quot;</span>),</div><div class="line">      inputSVInfo               = cms.InputTag(<span class="stringliteral">&quot;secondaryVertexTagInfosAK5PF&quot;</span>),</div><div class="line">      requestSVInfo             = cms.bool(<span class="keyword">False</span>),</div><div class="line">      BTagDiscriminators        = cms.PSet(</div><div class="line">        </div><div class="line">      ),</div><div class="line">    ),</div><div class="line">    </div><div class="line">    destConfig = cms.PSet(</div><div class="line">      includePileupID       = cms.bool(<span class="keyword">False</span>),</div><div class="line">      inputPileupID         = cms.InputTag(<span class="stringliteral">&quot;puJetMva&quot;</span>, <span class="stringliteral">&quot;fullDiscriminant&quot;</span>),</div><div class="line">      includeTrackBasedVars = cms.bool(<span class="keyword">False</span>),</div><div class="line">      inputTracks           = cms.InputTag(<span class="stringliteral">&quot;generalTracks&quot;</span>),</div><div class="line">      inputVertices         = cms.InputTag(<span class="stringliteral">&quot;offlinePrimaryVertices&quot;</span>),</div><div class="line">      requestTracks         = cms.bool(<span class="keyword">False</span>)</div><div class="line">    )</div><div class="line">    </div><div class="line">)</div><div class="line"></div><div class="line"></div><div class="line">icPFJetFromPatProducer = cms.EDProducer(<span class="stringliteral">&#39;ICPFJetFromPatProducer&#39;</span>,</div><div class="line">    branch                    = cms.string(<span class="stringliteral">&quot;pfJetsFromPat&quot;</span>),</div><div class="line">    input                     = cms.InputTag(<span class="stringliteral">&quot;ak4PFJets&quot;</span>),</div><div class="line">    </div><div class="line">     srcConfig = cms.PSet(</div><div class="line">       isSlimmed                 = cms.bool(<span class="keyword">False</span>),</div><div class="line">       slimmedPileupIDLabel      = cms.string(<span class="stringliteral">&#39;pileupJetId:fullDiscriminant&#39;</span>),</div><div class="line">       includeJetFlavour         = cms.bool(<span class="keyword">False</span>),</div><div class="line">       includeJECs               = cms.bool(<span class="keyword">False</span>),</div><div class="line">       inputSVInfo               = cms.InputTag(<span class="stringliteral">&quot;secondaryVertexTagInfosAOD&quot;</span>),</div><div class="line">       requestSVInfo             = cms.bool(<span class="keyword">False</span>)</div><div class="line">     ),</div><div class="line">    </div><div class="line">    destConfig = cms.PSet(</div><div class="line">      includePileupID       = cms.bool(<span class="keyword">False</span>),</div><div class="line">      inputPileupID         = cms.InputTag(<span class="stringliteral">&quot;puJetMva&quot;</span>, <span class="stringliteral">&quot;fullDiscriminant&quot;</span>),</div><div class="line">      includeTrackBasedVars = cms.bool(<span class="keyword">False</span>),</div><div class="line">      inputTracks           = cms.InputTag(<span class="stringliteral">&quot;generalTracks&quot;</span>),</div><div class="line">      inputVertices         = cms.InputTag(<span class="stringliteral">&quot;offlinePrimaryVertices&quot;</span>),</div><div class="line">      requestTracks         = cms.bool(<span class="keyword">False</span>)</div><div class="line">    )</div><div class="line">    </div><div class="line">)</div><div class="line"></div></div><!-- fragment --> <h1><a class="anchor" id="objs-vertex"></a>
Vertex </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_vertex.html" title="Stores information about the position of an event vertex and the quality of the track fit...">ic::Vertex</a></li>
<li><b>CMSSW Producers</b>: <a class="el" href="class_i_c_vertex_producer.html" title="See documentation here. ">ICVertexProducer</a></li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;reco::Vertex&gt;</code></li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_vertex.html" title="Stores information about the position of an event vertex and the quality of the track fit...">ic::Vertex</a>&gt;</code></li>
<li><b>Producer Requests</b>: Can request the <code>reco::Track</code> objects used in the vertex fit. The request will be produced with the label <code>requestedTracks</code>.</li>
</ul>
<p>The producer can be configured to store only the first vertex in the input collection by setting the value of the <code>firstVertexOnly</code> option to <code>True</code>. The <a class="el" href="classic_1_1_track.html#a2efc5723255dd426f2db6c12f6659cde" title="The unique identifier. ">ic::Track::id</a> values of the tracks used in each vertex fit can also be stored (along with the fit weighting), subject to a minimum threshold set by the option <code>trackPtThreshold</code>.</p>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icVertexProducer = cms.EDProducer(<span class="stringliteral">&#39;ICVertexProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;vertices&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;offlinePrimaryVertices&quot;</span>),</div><div class="line">  firstVertexOnly = cms.bool(<span class="keyword">False</span>),</div><div class="line">  trackPtThreshold = cms.double(0.0),</div><div class="line">  requestTracks = cms.bool(<span class="keyword">False</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-sec-vertex"></a>
Secondary Vertex </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_secondary_vertex.html" title="A class deriving from ic::Vertex and adding information on the 3D flight distance. ">ic::SecondaryVertex</a></li>
<li><b>CMSSW Producers</b>: <a class="el" href="class_i_c_secondary_vertex_producer.html" title="See documentation here. ">ICSecondaryVertexProducer</a></li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;reco::SecondaryVertexTagInfo&gt;</code></li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_secondary_vertex.html" title="A class deriving from ic::Vertex and adding information on the 3D flight distance. ">ic::SecondaryVertex</a>&gt;</code></li>
<li><b>Producer Requests</b>: Can request the <code>reco::Track</code> objects used in the vertex fit. The request will be produced with the label <code>requestedTracks</code>.</li>
</ul>
<p>Note that each reco::SecondaryVertexTagInfo input (one per jet) can contain multiple secondary vertices, each of which will be added to the output collection. The <a class="el" href="classic_1_1_track.html#a2efc5723255dd426f2db6c12f6659cde" title="The unique identifier. ">ic::Track::id</a> values of the tracks used in each vertex fit can also be stored (along with the fit weighting), subject to a minimum threshold set by the option <code>trackPtThreshold</code>.</p>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icSecondaryVertexProducer = cms.EDProducer(<span class="stringliteral">&#39;ICSecondaryVertexProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;secondaryVertices&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;&quot;</span>),</div><div class="line">  trackPtThreshold = cms.double(0.0),</div><div class="line">  requestTracks = cms.bool(<span class="keyword">False</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-track"></a>
Track </h1>
<ul>
<li><b>Definitions</b>: <a class="el" href="classic_1_1_track.html" title="Stores limited information about the track kinematics and trajectory. ">ic::Track</a>, <a class="el" href="classic_1_1_light_track.html" title="Stores a minimal amount of track information. ">ic::LightTrack</a></li>
<li><b>CMSSW Producers</b>: <a class="el" href="class_i_c_track_producer.html" title="See documentation here. ">ICTrackProducer</a>, <a class="el" href="class_i_c_light_track_producer.html" title="See documentation here. ">ICLightTrackProducer</a></li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;reco::Track&gt;</code></li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_track.html" title="Stores limited information about the track kinematics and trajectory. ">ic::Track</a>&gt;</code> or <code>std::vector&lt;<a class="el" href="classic_1_1_light_track.html" title="Stores a minimal amount of track information. ">ic::LightTrack</a>&gt;</code></li>
</ul>
<p>Two track classes are provided. The <code><a class="el" href="classic_1_1_track.html" title="Stores limited information about the track kinematics and trajectory. ">ic::Track</a></code> is the standard class and the <code><a class="el" href="classic_1_1_light_track.html" title="Stores a minimal amount of track information. ">ic::LightTrack</a></code> provides a limited subset of the <code><a class="el" href="classic_1_1_track.html" title="Stores limited information about the track kinematics and trajectory. ">ic::Track</a></code> variables for situations where these are sufficient for analysis and ntuple space is at a premium.</p>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icTrackProducer = cms.EDProducer(<span class="stringliteral">&#39;ICTrackProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;tracks&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;generalTracks&quot;</span>)</div><div class="line">)</div></div><!-- fragment --><div class="fragment"><div class="line">icLightTrackProducer = cms.EDProducer(<span class="stringliteral">&#39;ICLightTrackProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;tracks&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;generalTracks&quot;</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-genparticle"></a>
GenParticle </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_gen_particle.html" title="Stores the basic properties of generator-level particles as well as mother-daughter relations with ot...">ic::GenParticle</a></li>
<li><b>CMSSW Producers</b>: <a class="el" href="class_i_c_gen_particle_producer.html" title="See documentation here. ">ICGenParticleProducer</a></li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;reco::GenParticle&gt;</code></li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_gen_particle.html" title="Stores the basic properties of generator-level particles as well as mother-daughter relations with ot...">ic::GenParticle</a>&gt;</code></li>
</ul>
<p>The producer can optionally store the relations between particles in decay chains using the <code>includeMothers</code> and <code>includeDaughters</code> flags. When enabled, these options tell the producer to save the corresponding vectors of <a class="el" href="classic_1_1_gen_particle.html#a06f6a88a617d74f7eb5703989f8b84ad" title="The index position of the particle in the original list. ">ic::GenParticle::index</a> values. Note that this index is different from the <a class="el" href="classic_1_1_candidate.html#a4a59e8245b1afb6830eab0e00bfadff2" title="Unique identifier. ">ic::GenParticle::id</a> value, and is equal to the vector index position of the <code>reco::GenParticle</code> in the input collection.</p>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icGenParticleProducer = cms.EDProducer(<span class="stringliteral">&#39;ICGenParticleProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;genParticles&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;genParticles&quot;</span>),</div><div class="line">  includeMothers = cms.bool(<span class="keyword">True</span>),</div><div class="line">  includeDaughters = cms.bool(<span class="keyword">True</span>),</div><div class="line">  includeStatusFlags = cms.bool(<span class="keyword">False</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-genjet"></a>
GenJet </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_gen_jet.html" title="Stores the basic properties of a generator-level jet, in particular can save the IDs of the GenPartic...">ic::GenJet</a></li>
<li><b>CMSSW Producers</b>: <a class="el" href="class_i_c_gen_jet_producer.html" title="See documentation here. ">ICGenJetProducer</a></li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;reco::GenJet&gt;</code></li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_gen_jet.html" title="Stores the basic properties of a generator-level jet, in particular can save the IDs of the GenPartic...">ic::GenJet</a>&gt;</code></li>
<li><b>Producer Requests</b>: Can request the <code>reco::GenParticle</code> objects clustered into each jet. The request will be produced with the label <code>requestedGenParticles</code>.</li>
</ul>
<p>Note that due to technical limitations, if the <code>requestGenParticles</code> option is set to <code>True</code>, the original <code>reco::GenParticle</code> collection from which the jets were clustered must also be specified in the option <code>inputGenParticles</code>.</p>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icGenJetProducer = cms.EDProducer(<span class="stringliteral">&#39;ICGenJetProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;genJets&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;ak5GenJets&quot;</span>),</div><div class="line">  inputGenParticles = cms.InputTag(<span class="stringliteral">&quot;genParticles&quot;</span>),</div><div class="line">  requestGenParticles = cms.bool(<span class="keyword">False</span>),</div><div class="line">  isSlimmed = cms.bool(<span class="keyword">False</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-pu-info"></a>
PileupInfo </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_pileup_info.html" title="Stores information on the in-time or out-of-time simulated pileup interactions. ">ic::PileupInfo</a></li>
<li><b>CMSSW Producers</b>: <a class="el" href="class_i_c_pileup_info_producer.html" title="See documentation here. ">ICPileupInfoProducer</a></li>
<li><b>Producer Input</b>: Any collection compatible with an <code>edm::View&lt;PileupSummaryInfo&gt;</code></li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_pileup_info.html" title="Stores information on the in-time or out-of-time simulated pileup interactions. ">ic::PileupInfo</a>&gt;</code></li>
</ul>
<p>Each object <code>PileupSummaryInfo</code> object in the input collection provides the pileup information for a single bunch crossing. The bunch crossing number, <a class="el" href="classic_1_1_pileup_info.html#a7b22167fb9e18f36b615e8d3d3265e4b" title="Bunch crossing where zero implies in-time and non-zero out-of-time. ">ic::PileupInfo::bunch_crossing</a> can be used to identify the bunch crossing relative to the hard scatter interaction (which has a bunch crossing of zero).</p>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icPileupInfoProducer = cms.EDProducer(<span class="stringliteral">&#39;ICPileupInfoProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;pileupInfo&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;addPileupInfo&quot;</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-supercluster"></a>
SuperCluster </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_super_cluster.html" title="See documentation here. ">ic::SuperCluster</a></li>
<li><b>CMSSW Producers</b>: <a class="el" href="class_i_c_super_cluster_producer.html" title="Produces an ic::SuperCluster collection from the separate barrel and endcap collections, which must be compatible with an edm::View&lt;reco::SuperCluster&gt; ">ICSuperClusterProducer</a></li>
<li><b>Producer Input</b>: Two collections (EB and EE) compatible with an <code>edm::View&lt;reco::SuperCluster&gt;</code></li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_super_cluster.html" title="See documentation here. ">ic::SuperCluster</a>&gt;</code></li>
</ul>
<p>The <code><a class="el" href="classic_1_1_super_cluster.html" title="See documentation here. ">ic::SuperCluster</a></code> class does not inherit from <a class="el" href="classic_1_1_candidate.html" title="Stores a four-momentum, charge and identifier, and is the base class for most other physics objects...">ic::Candidate</a> but is instead specified by the supercluster position and direction with respect to the detector origin. The producer requires two collections as input as these are stored separately for barrel and endcap superclusters in the <code>edm::Event</code>.</p>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icSuperClusterProducer = cms.EDProducer(<span class="stringliteral">&#39;ICSuperClusterProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;superClusters&quot;</span>),</div><div class="line">  inputBarrel   = cms.InputTag(<span class="stringliteral">&quot;correctedHybridSuperClusters&quot;</span>),</div><div class="line">  inputEndcap   = cms.InputTag(<span class="stringliteral">&quot;correctedMulti5x5SuperClustersWithPreshower&quot;</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-trig-path"></a>
TriggerPath </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_trigger_path.html" title="Information on a trigger path, including accept, prescale and version information. ">ic::TriggerPath</a></li>
<li><b>CMSSW Producers</b>: <a class="el" href="class_i_c_trigger_path_producer.html" title="See documentation here. ">ICTriggerPathProducer</a></li>
<li><b>Producer Input</b>: A <code>pat::TriggerEvent</code> object</li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_trigger_path.html" title="Information on a trigger path, including accept, prescale and version information. ">ic::TriggerPath</a>&gt;</code></li>
</ul>
<p>The file <code>test/validation_cfg.py</code> contains examples for creating the <code>pat::TriggerEvent</code> in various CMSSW releases. The producer can be configured to only store the paths that fired in each event via the option <code>includeAcceptedOnly</code>. There is also an option <code>splitVersion</code> (off by default) to strip the integer version number from each trigger path name, and store this is a separate variable: <a class="el" href="classic_1_1_trigger_path.html#a9c63fb8ad612f87bc72fb0b51547b090" title="The trigger version number. ">ic::TriggerPath::version</a>. If this is enabled it may also be useful to set <code>saveStrings</code> to <code>False</code>. The <a class="el" href="classic_1_1_trigger_path.html#a903c8aebc2aa51f87ea2dee4fb117223" title="The trigger path name. ">ic::TriggerPath::name</a> will not be written, the version-less name will still be hashed and stored in the <a class="el" href="classic_1_1_trigger_path.html#acf1a418c4e58abedf7117f6943a845b0" title="Unique identifier, usually a hash of the trigger name. ">ic::TriggerPath::id</a> variables, saving space overall.</p>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icTriggerPathProducer = cms.EDProducer(<span class="stringliteral">&#39;ICTriggerPathProducer&#39;</span>,</div><div class="line">  branch  = cms.string(<span class="stringliteral">&quot;triggerPaths&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;patTriggerEvent&quot;</span>),</div><div class="line">  includeAcceptedOnly = cms.bool(<span class="keyword">True</span>),</div><div class="line">  saveStrings = cms.bool(<span class="keyword">True</span>),</div><div class="line">  splitVersion = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputIsStandAlone = cms.bool(<span class="keyword">False</span>),</div><div class="line">  prescaleFallback = cms.bool(<span class="keyword">False</span>),</div><div class="line">  hltProcess = cms.string(<span class="stringliteral">&#39;HLT&#39;</span>),</div><div class="line">  inputPrescales = cms.InputTag(<span class="stringliteral">&quot;patTrigger&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;PAT&quot;</span>) <span class="comment"># only used when inputIsStandAlone is true</span></div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-trig-obj"></a>
TriggerObject </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_trigger_object.html" title="Stores the four-momentum of a trigger object as well as a list of the (hashed) filter labels the obje...">ic::TriggerObject</a></li>
<li><b>CMSSW Producers</b>: <a class="el" href="class_i_c_trigger_object_producer.html" title="See documentation here. ">ICTriggerObjectProducer</a></li>
<li><b>Producer Input</b>: A <code>pat::TriggerEvent</code> object</li>
<li><b>Producer Output</b>: <code>std::vector&lt;<a class="el" href="classic_1_1_trigger_object.html" title="Stores the four-momentum of a trigger object as well as a list of the (hashed) filter labels the obje...">ic::TriggerObject</a>&gt;</code></li>
</ul>
<p>The producer will store a collection of trigger objects used in the specified <code>hltPath</code>. Each object stores a vector of the (hashed) labels of the filter modules that accepted the object in the path.</p>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icTriggerObjectProducer = cms.EDProducer(<span class="stringliteral">&#39;ICTriggerObjectProducer&#39;</span>,</div><div class="line">  branch = cms.string(<span class="stringliteral">&quot;triggerObjects&quot;</span>),</div><div class="line">  input   = cms.InputTag(<span class="stringliteral">&quot;patTriggerEvent&quot;</span>),</div><div class="line">  hltPath = cms.string(<span class="stringliteral">&quot;&quot;</span>),</div><div class="line">  storeOnlyIfFired = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputIsStandAlone = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputTriggerResults = cms.InputTag(<span class="stringliteral">&quot;TriggerResults&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;HLT&quot;</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="objs-event-info"></a>
EventInfo </h1>
<ul>
<li><b>Definition</b>: <a class="el" href="classic_1_1_event_info.html" title="Stores core event information such as run, lumi and event number, as well as event weights and filter...">ic::EventInfo</a></li>
<li><b>CMSSW Producers</b>: <a class="el" href="class_i_c_event_info_producer.html" title="Produces an ic::EventInfo object. ">ICEventInfoProducer</a></li>
<li><b>Producer Input</b>: No mandatory input</li>
<li><b>Producer Output</b>: <code><a class="el" href="classic_1_1_event_info.html" title="Stores core event information such as run, lumi and event number, as well as event weights and filter...">ic::EventInfo</a></code></li>
</ul>
<p>The core event variables, such as event, lumi and run, are stored automatically. Other variables of interest may be added via the producer options. The options <code>includeJetRho</code> and <code>includeLeptonRho</code> can be used to store the values of the median energy densities used for the pileup jet energy correction and the lepton pileup isolation respectively. The appropriate inputs should be specified by the options <code>inputJetRho</code> and <code>inputLeptonRho</code>. The number of vertices in a particular collection (<code>inputVertices</code>) can also be stored (<code>includeVertexCount</code>), which is a space-saving alternative to storing an entire <code><a class="el" href="classic_1_1_vertex.html" title="Stores information about the position of an event vertex and the quality of the track fit...">ic::Vertex</a></code> collection. The options <code>filters</code>, <code>weights</code> and <code>genFilterWeights</code> are used to specify corresponding lists of input <code>bool</code>, <code>double</code> and <code>GenFilterInfo</code> values that should be added to the <code><a class="el" href="classic_1_1_event_info.html" title="Stores core event information such as run, lumi and event number, as well as event weights and filter...">ic::EventInfo</a></code> using the labels provided in the <code>PSet</code>.</p>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">icEventInfoProducer = cms.EDProducer(<span class="stringliteral">&#39;ICEventInfoProducer&#39;</span>,</div><div class="line">  branch              = cms.string(<span class="stringliteral">&quot;eventInfo&quot;</span>),</div><div class="line">  lheProducer         = cms.InputTag(<span class="stringliteral">&quot;externalLHEProducer&quot;</span>),</div><div class="line">  includeLHEWeights   = cms.bool(<span class="keyword">False</span>),</div><div class="line">  includeJetRho       = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputJetRho         = cms.InputTag(<span class="stringliteral">&quot;fixedGridRhoFastjetAll&quot;</span>),</div><div class="line">  includeLeptonRho    = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputLeptonRho      = cms.InputTag(<span class="stringliteral">&quot;fixedGridRhoFastjetAll&quot;</span>),</div><div class="line">  includeHT           = cms.bool(<span class="keyword">False</span>),</div><div class="line">  includeVertexCount  = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputVertices       = cms.InputTag(<span class="stringliteral">&quot;offlinePrimaryVertices&quot;</span>),</div><div class="line">  includeCSCFilter    = cms.bool(<span class="keyword">False</span>),</div><div class="line">  inputCSCFilter      = cms.InputTag(<span class="stringliteral">&quot;BeamHaloSummary&quot;</span>),</div><div class="line">  filters             = cms.PSet(),</div><div class="line">  weights             = cms.PSet(</div><div class="line">  ),</div><div class="line">  genFilterWeights    = cms.PSet(</div><div class="line">  ),</div><div class="line">  includeFiltersFromTrig = cms.bool(<span class="keyword">False</span>),</div><div class="line">  filtersfromtrig     = cms.vstring(<span class="stringliteral">&quot;Flag_CSCTightHaloFilter&quot;</span>,<span class="stringliteral">&quot;Flag_hcalLaserEventFilter&quot;</span>,<span class="stringliteral">&quot;Flag_EcalDeadCellTriggerPrimitiveFilter&quot;</span>,<span class="stringliteral">&quot;Flag_goodVertices&quot;</span>,<span class="stringliteral">&quot;Flag_eeBadScFilter&quot;</span>,<span class="stringliteral">&quot;Flag_ecalLaserCorrFilter&quot;</span>,<span class="stringliteral">&quot;Flag_trkPOGFilters&quot;</span>,<span class="stringliteral">&quot;Flag_trkPOG_manystripclus53X&quot;</span>,<span class="stringliteral">&quot;Flag_trkPOG_toomanystripclus53X&quot;</span>,<span class="stringliteral">&quot;Flag_trkPOG_logErrorTooManyClusters&quot;</span>,<span class="stringliteral">&quot;Flag_METFilters&quot;</span>),</div><div class="line">  inputfiltersfromtrig = cms.InputTag(<span class="stringliteral">&quot;TriggerResults&quot;</span>)</div><div class="line">)</div></div><!-- fragment --> <h1><a class="anchor" id="obs-non-standard"></a>
Non-standard Objects </h1>
<h2><a class="anchor" id="objs-mva-met"></a>
MVA MET / Pileup jet ID </h2>
<p>Supported releases:</p><ul>
<li><code>CMSSW_4_2_8_patch7</code></li>
<li><code>CMSSW_5_3_X</code></li>
<li><code>CMSSW_7_0_X</code> <em>pileup jet ID only</em></li>
</ul>
<p>Links:</p><ul>
<li><a href="https://twiki.cern.ch/twiki/bin/viewauth/CMS/MVAMet">https://twiki.cern.ch/twiki/bin/viewauth/CMS/MVAMet</a></li>
<li><a href="https://twiki.cern.ch/twiki/bin/viewauth/CMS/PileupJetID">https://twiki.cern.ch/twiki/bin/viewauth/CMS/PileupJetID</a></li>
<li><a href="https://github.com/ajgilbert/ICAnalysis-MVAMETPairProducer">https://github.com/ajgilbert/ICAnalysis-MVAMETPairProducer</a></li>
</ul>
<p>The MVA MET is not available by default in any CMSSW release, and pileup jet ID is only included in the <code>CMSSW_7_0_X</code> series. A recipe is given below for obtaining the versions that were used in the legacy HiggsTauTau analysis, which was based on <code>CMSSW_5_3_7</code>. Newer recipes for the MVA MET have also been provided and are currently in use by some groups. See the twiki page above for details. Notably, newer MVA trainings have been provided that do not require the addition of recoil corrections, but these have not yet been tested in this framework.</p>
<p>The following recipe can be used to set-up the MVA MET and pileup ID in a different <code>CMSSW_5_3_X</code> release. It works by extracting the relevant git commits from a prepared branch based on the <code>CMSSSW_5_3_7</code> release, and applying these commits to a branch created from a different release.</p>
<div class="fragment"><div class="line"># Assume we want to set up the MVA MET in some 5_3_X release other than 5_3_7</div><div class="line"># If you haven&#39;t already - create the project area</div><div class="line">scramv1 project CMSSW_5_3_X; cd CMSSW_5_3_X/src</div><div class="line"># This will initialise git and create the local branch from-CMSSW_5_3_X</div><div class="line"># We&#39;ll assume that this is the branch you want to add the MVA MET to.</div><div class="line">git-cms-addpkg FWCore/Version</div><div class="line"># Add the ic-cmssw fork of the cmssw repo and fetch its branches</div><div class="line">git remote add -f ic-cmssw git@github.com:ajgilbert/cmssw.git</div><div class="line"># Create a temporary branch from the 5_3_7 branch containing the MVA MET</div><div class="line">git checkout --no-track -b rebase-attempt ic-cmssw/MVAMET-PileupJetID-from-CMSSW_5_3_7</div><div class="line"># This is the command that will do all the work, attempting to rebase the commits</div><div class="line"># that add the MVA MET onto your 5_3_X release</div><div class="line">git rebase --onto from-CMSSW_5_3_X CMSSW_5_3_7 rebase-attempt</div><div class="line"># If there are no merge issues this should complete fine. If you do hit</div><div class="line"># issues the rebase will pause, and you will have to fix any merge issues</div><div class="line"># by hand, then instruct git to continue the rebase. If in doubt, git status</div><div class="line"># should tell you what you need to do.</div><div class="line"># Once the rebase is finished, switch back to our target branch</div><div class="line">git checkout from-CMSSW_5_3_X</div><div class="line"># This should now be a trivial fast-forward merge</div><div class="line">git merge rebase-attempt</div><div class="line"># All done - we can delete the temporary branch</div><div class="line">git branch -d rebase-attempt</div><div class="line"># Now update the sparse-checkout file so the modified packages will be visible</div><div class="line">git-cms-sparse-checkout CMSSW_X_Y_Z HEAD</div><div class="line"># This updates the actual working directory with the new packages</div><div class="line">git read-tree -u --reset HEAD</div><div class="line"># Optional: if you want to use the lepton-pair input version of the MVA MET, checkout this</div><div class="line"># standalone package. Different branches exist for `5_3_X` and `4_2_X` releases. See the</div><div class="line"># README on the project page for more information:</div><div class="line"># https://github.com/ajgilbert/ICAnalysis-MVAMETPairProducer</div><div class="line">git clone git@github.com:ajgilbert/ICAnalysis-MVAMETPairProducer.git ICAnalysis/MVAMETPairProducer</div></div><!-- fragment --><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Document example python configs for the MVA MET and pileup jet ID</dd></dl>
<h2><a class="anchor" id="obs-tau-reco"></a>
Tau Reconstruction and Discrimination </h2>
<p>Supported releases:</p><ul>
<li><code>CMSSW_4_2_8_patch7</code></li>
<li><code>CMSSW_5_3_X</code></li>
<li><code>CMSSW_7_0_X</code></li>
</ul>
<p>Links:</p><ul>
<li><a href="https://twiki.cern.ch/twiki/bin/view/CMSPublic/SWGuidePFTauID">https://twiki.cern.ch/twiki/bin/view/CMSPublic/SWGuidePFTauID</a></li>
</ul>
<p>Over time many improvements to the tau reconstruction and identification have been developed by the tau POG. The twiki link above is a good reference to the different versions of the tau ID and how to add these to a release using git. The reconstruction and ID used in the legacy HiggsTauTau analysis corresponds to the section <em>Legacy Tau ID (Run I)</em>. This is now available by default in releases starting from <code>CMSSW_5_3_12</code>. For older releases the recipe provided on the twiki might cause issues with the merging. It may be safer to identify just the commits that change the <code>RecoTauTag</code> package and <code>git cherry-pick</code> them one-by-one, e.g.</p>
<div class="fragment"><div class="line"># Get a summary of which commits changed the RecoTauTag package between</div><div class="line"># the current HEAD and the recommended branch</div><div class="line">git log --oneline HEAD..cms-tau-pog/CMSSW_5_3_X -- RecoTauTag</div><div class="line"># Cherry-pick each commit - shouldn&#39;t result in any conflicts</div><div class="line">git cherry-pick ....</div><div class="line">git cherry-pick ....</div><div class="line">git checkout HEAD</div></div><!-- fragment --><h2><a class="anchor" id="obs-pf-iso"></a>
PF Isolation </h2>
<ul>
<li><code>CMSSW_4_2_8_patch7</code></li>
<li><code>CMSSW_5_3_X</code></li>
<li><code>CMSSW_7_0_X</code></li>
</ul>
<p>The calculation of PF iso-deposits for electrons changed during the <code>CMSSW_5_3_X</code> series. In the legacy HiggsTauTau analysis this was updated using a CVS tag on top of the <code>CMSSW_5_3_7</code> release. See this git commit for details of the changes:</p>
<ul>
<li><a href="https://github.com/ajgilbert/cmssw/commit/b8bd99295f462f2c049d94d8660fe46fd4f7e5f8">https://github.com/ajgilbert/cmssw/commit/b8bd99295f462f2c049d94d8660fe46fd4f7e5f8</a></li>
</ul>
<p>This updated version was included after some later <code>CMSSW_5_3_X</code> release, so check first if you need to apply it. The change from <code>CandIsolatorFromDeposits</code> to <code>PFCandIsolatorFromDeposits</code> modules for the iso-deposit calculation should be a good indicator.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Document example python configs for PF isolation</dd></dl>
<h2><a class="anchor" id="obs-mva-elec-id"></a>
MVA Electron ID </h2>
<p>Supported releases:</p><ul>
<li><code>CMSSW_4_2_8_patch7</code></li>
<li><code>CMSSW_5_3_X</code></li>
<li><code>CMSSW_7_0_X</code></li>
</ul>
<p>The code for the electron ID MVA is contained in the <code>EgammaAnalysis/ElectronTools</code> package. In older <code>CMSSW_5_3_X</code> series releases this package was not included. For the legacy HiggsTauTau analysis this code was added to the <code>CMSSW_5_3_7</code> release using a CVS recipe, but is now most easily obtained by a <code>git cherry-pick</code> of this commit:</p>
<ul>
<li><a href="https://github.com/ajgilbert/cmssw/commit/50c18f9a40c3175f0d8d0e3d9b098b561bf067b0">https://github.com/ajgilbert/cmssw/commit/50c18f9a40c3175f0d8d0e3d9b098b561bf067b0</a></li>
</ul>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Document example python configs for MVA electron ID</dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
</body>
</html>
